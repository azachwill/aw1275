<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2016-01-20">

<title>Shiny 0.13.0</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>


<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">


</head>

<body>


<header id="title-block-header">
<h1 class="title">Shiny 0.13.0</h1>

<p class="date">2016-01-20</p>
</header>

<p>Shiny 0.13.0 is now available on CRAN! This release has some of the most exciting features we’ve shipped since the first version of Shiny. Highlights include:</p>
<ul>
<li><p>Shiny Gadgets</p></li>
<li><p>HTML templates</p></li>
<li><p>Shiny modules</p></li>
<li><p>Error stack traces</p></li>
<li><p>Checking for missing inputs</p></li>
<li><p>New JavaScript events</p></li>
</ul>
<p>For a comprehensive list of changes, see the <a href="https://cran.r-project.org/web/packages/shiny/NEWS">NEWS file</a>.</p>
<p>To install the new version from CRAN, run:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"shiny"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Read on for details about these new features!</p>
<!-- more -->
<h2 id="shiny-gadgets" class="anchored">Shiny Gadgets</h2>
<p>With Shiny Gadgets, you can use Shiny to create interactive graphical tools that run locally, taking your data as input and returning a result. This means that Shiny isn’t just for creating applications to be delivered over the web – it can also be part of your interactive data analysis toolkit!</p>
<p>Your workflow could, for example, look something like this:</p>
<ol type="1">
<li><p>At the R console, read in and massage your data.</p></li>
<li><p>Use a Shiny Gadget’s graphical interface to build a model and tweak model parameters. When finished, the Gadget returns the model object.</p></li>
<li><p>At the R console, use the model to make predictions.</p></li>
</ol>
<p>Here’s a Shiny Gadget in action (<a href="https://gist.github.com/wch/c4b857d73493e6550cba">code here</a>). This Gadget fits an <code>lm</code> model to a data set, and lets the user interactively exclude data points used to build the model; when finished, it returns the data with points excluded, and the model object:</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://rstudioblog.files.wordpress.com/2016/01/lm_gadget.gif" class="img-fluid"></p>
<p></p><figcaption>lm_gadget</figcaption><p></p>
</figure>
</div>
<p>When used in RStudio, Shiny Gadgets integrate seamlessly, appearing in the Viewer panel, or in a pop-up dialog window. You can even declare your Shiny Gadgets to be <a href="http://rstudio.github.io/rstudioaddins/">RStudio Add-ins</a>, so they can be launched from the RStudio Add-ins menu or a customizable keyboard shortcut.</p>
<p>When used outside of RStudio, Shiny Gadgets have the same functionality – the only differences are that you invoke them by executing their R function, and that they open in a separate browser window.</p>
<p>Best of all, if you know how to write Shiny apps, you’re 90% of the way to writing Gadgets! For the other 10%, see the <a href="https://shiny.rstudio.com/articles/gadgets.html">article</a> in the Shiny Dev Center.</p>
<h2 id="html-templates" class="anchored">HTML templates</h2>
<p>In previous versions of Shiny, you could choose between writing your UI using either ui.R (R function calls like <code>fluidPage</code>, <code>plotOutput</code>, and <code>div</code>), or index.html (plain old HTML markup).</p>
<p>With Shiny 0.13.0, you can have the best of both worlds in a single app, courtesy of the new HTML templating system (from the <strong>htmltools</strong> package). You can author the structure and style of your page in HTML, but still conveniently insert input and output widgets using R functions.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link href="custom.css" rel="stylesheet" /&gt;
    {{ headContent() }}
  &lt;/head&gt;
  &lt;body&gt;
  {{ sliderInput("x", "X", 1, 100, sliderValue) }}
  {{ button }}
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>To use the template for your UI, you process it with <code>htmlTemplate()</code>. The text within the <code>{{ ... }}</code> is evaluated as R code, and is replaced with the return value.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">htmlTemplate</span>(<span class="st">"template.html"</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">button =</span> <span class="fu">actionButton</span>(<span class="st">"go"</span>, <span class="st">"Go"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the example above, the template is used to generate an entire web page. Templates can also be used for pieces of HTML that are inserted into a web page. You could, for example, create a reusable UI component which uses an HTML template.</p>
<p>If you want to learn more, see the <a href="https://shiny.rstudio.com/articles/templates.html">HTML templates</a> article.</p>
<h2 id="shiny-modules" class="anchored">Shiny modules</h2>
<p>We’ve been surprised at the number of users making large, complex Shiny apps – to the point that abstractions for managing Shiny code complexity has become a frequent request.</p>
<p>After much discussion and iteration, we’ve come up with a <a href="https://shiny.rstudio.com/articles/modules.html">modules feature</a> that should be a huge help for these apps. A Shiny module is like a fragment of UI and server logic that can be embedded in either a Shiny app, or in another Shiny module. Shiny modules use namespaces, so you can create and interact with UI elements without worrying about their input and output IDs conflicting with anyone else’s. You can even embed a Shiny module in a single app multiple times, and each instance of the module will be independent of the others.</p>
<p>To get started, check out the <a href="https://shiny.rstudio.com/articles/modules.html">Shiny modules</a> article.</p>
<p>(Special thanks to <a href="http://twitter.com/ijlyttle">Ian Lyttle</a>, whose earlier work with <a href="https://github.com/ijlyttle/shinychord">shinychord</a> provided inspiration for modules.)</p>
<h2 id="better-debugging-with-stack-traces" class="anchored">Better debugging with stack traces</h2>
<p>In previous versions of Shiny, if your code threw an error, it would tell you that an error occurred (the app would keep running), but wouldn’t tell you where it’s from:</p>
<pre><code>Listening on http://127.0.0.1:6212
Error in : length(n) == 1L is not TRUE</code></pre>
<p>As of 0.13.0, Shiny gives a stack trace so you can easily find where the problem occurred:</p>
<pre><code>Listening on http://127.0.0.1:6212
Warning: Error in : length(n) == 1L is not TRUE
Stack trace (innermost first):
    96: stopifnot
    95: head.default
    94: head
    93: reactive mydata [~/app.R#10]
    82: mydata
    81: ggplot
    80: renderPlot [~/app.R#14]
    72: output$plot
     5: &lt;Anonymous&gt;
     4: do.call
     3: print.shiny.appobj
     2: print
     1: source</code></pre>
<p>In this case, the error was in a reactive named <code>mydata</code> in <code>app.R</code>, line 10, when it called the <code>head()</code> function. Notice that the stack trace only shows stack frames that are relevant to the app – there are many frames that are internal Shiny code, and they are hidden from view by default.</p>
<p>For more information, see the <a href="https://shiny.rstudio.com/articles/debugging.html">debugging</a> article.</p>
<h2 id="checking-inputs-with-req" class="anchored">Checking inputs with <code>req()</code></h2>
<p>In Shiny apps, it’s common to have a reactive expression or an output that can only proceed if certain conditions are met. For example, an input might need to have a selected value, or an <code>actionButton</code> might need to be clicked before an output should be shown.</p>
<p>Previously, you would need to use a check like <code>if (is.null(input$x)) return()</code>, or <code>validate(need(input$x))</code>, and a similar check would be needed in all downstream reactives/observers that rely on that reactive expression.</p>
<p>Shiny 0.13.0 provides new a function, <code>req()</code>, which simplifies this process. It can be used <code>req(input$x)</code>. Reactives and observers which are downstream will not need a separate check because a <code>req()</code> upstream will cause them to stop.</p>
<p>You can call <code>req()</code> with multiple arguments to check multiple inputs. And you can also check for specific conditions besides the presence or absence of an input by passing a logical value, e.g.&nbsp;<code>req(Sys.time() &lt;= endTime)</code> will stop if the current time is later than <code>endTime</code>.</p>
<p>For more details, see the <a href="https://shiny.rstudio.com/articles/req.html">article</a> in the Shiny Dev Center.</p>
<h2 id="javascript-events" class="anchored">JavaScript Events</h2>
<p>For developers who want to write JavaScript code to interact with Shiny in the client’s browser, Shiny now has a set of JavaScript events to which event handler functions can be attached. For example, the <code>shiny:inputchanged</code> event is triggered when an input changes, and the <code>shiny:disconnected</code> event is triggered when the connection to the server ends.</p>
<p>See the <a href="https://shiny.rstudio.com/articles/js-events.html">article</a> for more.</p>


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
  tabsets.forEach(function(tabset) {
    const tabby = new Tabby('#' + tabset.id);
  });
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>



</body></html>