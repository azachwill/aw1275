<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-05-17">
<meta name="description" content="We’ve vastly improved the summary_rows() and grand_summary_rows() functions in {gt} version 0.9.0.">

<title>posit-blogs - Color coding your data in {gt} 0.9.0</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">


</head>

<body>


<header id="title-block-header">
<h1 class="title">Color coding your data in {gt} 0.9.0</h1>

<p class="date">2023-05-17</p>
</header>

<p>There are many improvements in the new <code>0.9.0</code> release of <a href="https://gt.rstudio.com/">gt</a>! In fact, there is so much that is new that we couldn’t fit it all in a single blog post. This blog post (number three in a larger series on <strong>gt</strong> <code>0.9.0</code>) focuses on the improvements to <code>data_color()</code>, a function that lets you perform data cell colorization.</p>
<h2 id="a-basic-example-on-how-to-use-data_color" class="anchored">A basic example on how to use <code>data_color()</code></h2>
<p>Let’s introduce the <code>data_color()</code> function with a simple example. For the sake of simplicity, let’s use <strong>gt</strong>’s <code>exibble</code> dataset for this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>exibble <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="kyaqmwmnsa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kyaqmwmnsa table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kyaqmwmnsa thead, #kyaqmwmnsa tbody, #kyaqmwmnsa tfoot, #kyaqmwmnsa tr, #kyaqmwmnsa td, #kyaqmwmnsa th {
  border-style: none;
}

#kyaqmwmnsa p {
  margin: 0;
  padding: 0;
}

#kyaqmwmnsa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kyaqmwmnsa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kyaqmwmnsa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kyaqmwmnsa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kyaqmwmnsa .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kyaqmwmnsa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kyaqmwmnsa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kyaqmwmnsa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kyaqmwmnsa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kyaqmwmnsa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kyaqmwmnsa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kyaqmwmnsa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kyaqmwmnsa .gt_spanner_row {
  border-bottom-style: hidden;
}

#kyaqmwmnsa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kyaqmwmnsa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kyaqmwmnsa .gt_from_md > :first-child {
  margin-top: 0;
}

#kyaqmwmnsa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kyaqmwmnsa .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kyaqmwmnsa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kyaqmwmnsa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kyaqmwmnsa .gt_row_group_first td {
  border-top-width: 2px;
}

#kyaqmwmnsa .gt_row_group_first th {
  border-top-width: 2px;
}

#kyaqmwmnsa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kyaqmwmnsa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kyaqmwmnsa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kyaqmwmnsa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kyaqmwmnsa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kyaqmwmnsa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kyaqmwmnsa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kyaqmwmnsa .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kyaqmwmnsa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kyaqmwmnsa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kyaqmwmnsa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kyaqmwmnsa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kyaqmwmnsa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kyaqmwmnsa .gt_left {
  text-align: left;
}

#kyaqmwmnsa .gt_center {
  text-align: center;
}

#kyaqmwmnsa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kyaqmwmnsa .gt_font_normal {
  font-weight: normal;
}

#kyaqmwmnsa .gt_font_bold {
  font-weight: bold;
}

#kyaqmwmnsa .gt_font_italic {
  font-style: italic;
}

#kyaqmwmnsa .gt_super {
  font-size: 65%;
}

#kyaqmwmnsa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kyaqmwmnsa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kyaqmwmnsa .gt_indent_1 {
  text-indent: 5px;
}

#kyaqmwmnsa .gt_indent_2 {
  text-indent: 10px;
}

#kyaqmwmnsa .gt_indent_3 {
  text-indent: 15px;
}

#kyaqmwmnsa .gt_indent_4 {
  text-indent: 20px;
}

#kyaqmwmnsa .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="num">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="char">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="fctr">fctr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="date">date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="time">time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="datetime">datetime</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="currency">currency</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="row">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="group">group</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">1.111e-01</td>
<td headers="char" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">apricot</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #000000; color: #FFFFFF;">one</td>
<td headers="date" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">2015-01-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">13:35</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">2018-01-01 02:22</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #020101; color: #FFFFFF;">49.950</td>
<td headers="row" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">row_1</td>
<td headers="group" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">grp_a</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">2.222e+00</td>
<td headers="char" class="gt_row gt_left" style="background-color: #DF536B; color: #FFFFFF;">banana</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #BC485B; color: #FFFFFF;">two</td>
<td headers="date" class="gt_row gt_right" style="background-color: #DF536B; color: #FFFFFF;">2015-02-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #DF536B; color: #FFFFFF;">14:40</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #DF536B; color: #FFFFFF;">2018-02-02 14:33</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #010000; color: #FFFFFF;">17.950</td>
<td headers="row" class="gt_row gt_left" style="background-color: #BC485B; color: #FFFFFF;">row_2</td>
<td headers="group" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">grp_a</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">3.333e+01</td>
<td headers="char" class="gt_row gt_left" style="background-color: #61D04F; color: #000000;">coconut</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #98B359; color: #000000;">three</td>
<td headers="date" class="gt_row gt_right" style="background-color: #61D04F; color: #000000;">2015-03-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #61D04F; color: #000000;">15:45</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #61D04F; color: #000000;">2018-03-03 03:44</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">1.390</td>
<td headers="row" class="gt_row gt_left" style="background-color: #98B359; color: #000000;">row_3</td>
<td headers="group" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">grp_a</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">4.444e+02</td>
<td headers="char" class="gt_row gt_left" style="background-color: #2297E6; color: #FFFFFF;">durian</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #5FAFAA; color: #FFFFFF;">four</td>
<td headers="date" class="gt_row gt_right" style="background-color: #2297E6; color: #FFFFFF;">2015-04-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #2297E6; color: #FFFFFF;">16:50</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #2297E6; color: #FFFFFF;">2018-04-04 15:55</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #F5C710; color: #000000;">65100.000</td>
<td headers="row" class="gt_row gt_left" style="background-color: #5FAFAA; color: #FFFFFF;">row_4</td>
<td headers="group" class="gt_row gt_left" style="background-color: #000000; color: #FFFFFF;">grp_a</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #020101; color: #FFFFFF;">5.550e+03</td>
<td headers="char" class="gt_row gt_left" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #2FB7E6; color: #000000;">five</td>
<td headers="date" class="gt_row gt_right" style="background-color: #28E2E5; color: #000000;">2015-05-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #28E2E5; color: #000000;">17:55</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #28E2E5; color: #000000;">2018-05-05 04:00</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #1F1112; color: #FFFFFF;">1325.810</td>
<td headers="row" class="gt_row gt_left" style="background-color: #2FB7E6; color: #000000;">row_5</td>
<td headers="group" class="gt_row gt_left" style="background-color: #DF536B; color: #FFFFFF;">grp_b</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="char" class="gt_row gt_left" style="background-color: #28E2E5; color: #000000;">fig</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #89B7DA; color: #000000;">six</td>
<td headers="date" class="gt_row gt_right" style="background-color: #CD0BBC; color: #FFFFFF;">2015-06-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #CD0BBC; color: #FFFFFF;">2018-06-06 16:11</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">13.255</td>
<td headers="row" class="gt_row gt_left" style="background-color: #89B7DA; color: #000000;">row_6</td>
<td headers="group" class="gt_row gt_left" style="background-color: #DF536B; color: #FFFFFF;">grp_b</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #833641; color: #FFFFFF;">7.770e+05</td>
<td headers="char" class="gt_row gt_left" style="background-color: #CD0BBC; color: #FFFFFF;">grapefruit</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #D83FAB; color: #FFFFFF;">seven</td>
<td headers="date" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="time" class="gt_row gt_right" style="background-color: #CD0BBC; color: #FFFFFF;">19:10</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #F5C710; color: #000000;">2018-07-07 05:22</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="row" class="gt_row gt_left" style="background-color: #D83FAB; color: #FFFFFF;">row_7</td>
<td headers="group" class="gt_row gt_left" style="background-color: #DF536B; color: #FFFFFF;">grp_b</td></tr>
    <tr><td headers="num" class="gt_row gt_right" style="background-color: #9E9E9E; color: #FFFFFF;">8.880e+06</td>
<td headers="char" class="gt_row gt_left" style="background-color: #F5C710; color: #000000;">honeydew</td>
<td headers="fctr" class="gt_row gt_center" style="background-color: #F5C710; color: #000000;">eight</td>
<td headers="date" class="gt_row gt_right" style="background-color: #F5C710; color: #000000;">2015-08-15</td>
<td headers="time" class="gt_row gt_right" style="background-color: #F5C710; color: #000000;">20:20</td>
<td headers="datetime" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">NA</td>
<td headers="currency" class="gt_row gt_right" style="background-color: #000000; color: #FFFFFF;">0.440</td>
<td headers="row" class="gt_row gt_left" style="background-color: #F5C710; color: #000000;">row_8</td>
<td headers="group" class="gt_row gt_left" style="background-color: #DF536B; color: #FFFFFF;">grp_b</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>What’s happened is that <code>data_color()</code> applies background colors to all cells of every column with the default palette in R (internally accessed through the <code>grDevices::palette()</code> function). The default method for applying color is <code>"auto"</code>, and this is through the new <code>method</code> argument. With <code>method = "auto"</code>, <strong>gt</strong> will decide on a column-by-column basis which colorization method to use. For numeric values, the method will be <code>"numeric"</code>; for character or factor values, the <code>"factor"</code> method is chosen. (We’ll get more into the various color computation methods a bit later in the post.)</p>
<p>An interesting thing about <code>data_color()</code> in <strong>gt</strong> <code>0.9.0</code> is that it works without having to supply any argument values! Previously, you needed to provide something for <code>columns</code> and a color-mapping function to <code>colors</code>. This made the function very difficult to use without first looking at a working example. We think that the new interface that prioritizes choosing a <code>method</code> will be better for most users (and you can still use a color-mapping function with the new <code>fn</code> argument).</p>
<h2 id="choosing-a-palette" class="anchored">Choosing a palette</h2>
<p>Virtually nobody will want to rely on the default palette, so let’s take a look at some of the color-specification possibilities available in the new <code>palette</code> argument. It can take any of the following types of inputs:</p>
<ol type="1">
<li>a vector of color names</li>
<li>the name of an <strong>RColorBrewer</strong> palette</li>
<li>the name of a viridis palette (e.g., <code>"viridis"</code>, <code>"magma"</code>, etc.)</li>
<li>a discrete palette accessible from the <strong>paletteer</strong> package using the <code>⁠&lt;package&gt;::&lt;palette&gt;</code>⁠ syntax</li>
</ol>
<p>Let’s try each of these with four separate calls of <code>data_color()</code> on a simple table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">red_green =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">brewer =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">viridis =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">zissou =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> red_green, <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"green"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> brewer, <span class="at">palette =</span> <span class="st">"Oranges"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> viridis, <span class="at">palette =</span> <span class="st">"viridis"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> zissou, <span class="at">palette =</span> <span class="st">"wesanderson::Zissou1"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_width</span>(<span class="fu">everything</span>() <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="rjygcnodog" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rjygcnodog table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rjygcnodog thead, #rjygcnodog tbody, #rjygcnodog tfoot, #rjygcnodog tr, #rjygcnodog td, #rjygcnodog th {
  border-style: none;
}

#rjygcnodog p {
  margin: 0;
  padding: 0;
}

#rjygcnodog .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rjygcnodog .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rjygcnodog .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rjygcnodog .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rjygcnodog .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rjygcnodog .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rjygcnodog .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rjygcnodog .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rjygcnodog .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rjygcnodog .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rjygcnodog .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rjygcnodog .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rjygcnodog .gt_spanner_row {
  border-bottom-style: hidden;
}

#rjygcnodog .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rjygcnodog .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rjygcnodog .gt_from_md > :first-child {
  margin-top: 0;
}

#rjygcnodog .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rjygcnodog .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rjygcnodog .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rjygcnodog .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rjygcnodog .gt_row_group_first td {
  border-top-width: 2px;
}

#rjygcnodog .gt_row_group_first th {
  border-top-width: 2px;
}

#rjygcnodog .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rjygcnodog .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rjygcnodog .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rjygcnodog .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rjygcnodog .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rjygcnodog .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rjygcnodog .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rjygcnodog .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rjygcnodog .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rjygcnodog .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rjygcnodog .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rjygcnodog .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rjygcnodog .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rjygcnodog .gt_left {
  text-align: left;
}

#rjygcnodog .gt_center {
  text-align: center;
}

#rjygcnodog .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rjygcnodog .gt_font_normal {
  font-weight: normal;
}

#rjygcnodog .gt_font_bold {
  font-weight: bold;
}

#rjygcnodog .gt_font_italic {
  font-style: italic;
}

#rjygcnodog .gt_super {
  font-size: 65%;
}

#rjygcnodog .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rjygcnodog .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rjygcnodog .gt_indent_1 {
  text-indent: 5px;
}

#rjygcnodog .gt_indent_2 {
  text-indent: 10px;
}

#rjygcnodog .gt_indent_3 {
  text-indent: 15px;
}

#rjygcnodog .gt_indent_4 {
  text-indent: 20px;
}

#rjygcnodog .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:100px;">
  </colgroup>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="red_green">red_green</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="brewer">brewer</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="viridis">viridis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="zissou">zissou</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #FF0000; color: #FFFFFF;">1</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #FFF5EB; color: #000000;">1</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">1</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #3B9AB2; color: #FFFFFF;">1</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #F64E00; color: #FFFFFF;">2</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #FEE8D1; color: #000000;">2</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #482878; color: #FFFFFF;">2</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #59A7BA; color: #FFFFFF;">2</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #EB7000; color: #FFFFFF;">3</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #FED5AC; color: #000000;">3</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #3E4A89; color: #FFFFFF;">3</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #72B4C3; color: #000000;">3</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #DF8A00; color: #FFFFFF;">4</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #FEB97D; color: #000000;">4</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #31688E; color: #FFFFFF;">4</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #ACBE99; color: #000000;">4</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #D1A000; color: #000000;">5</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #FE9C51; color: #000000;">5</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #26828E; color: #FFFFFF;">5</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #D9C758; color: #000000;">5</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #C0B500; color: #000000;">6</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #F87D2B; color: #FFFFFF;">6</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #1F9E89; color: #FFFFFF;">6</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #E9C623; color: #000000;">6</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #ABC900; color: #000000;">7</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #E95E0D; color: #FFFFFF;">7</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #35B779; color: #FFFFFF;">7</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #E4B913; color: #000000;">7</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #90DB00; color: #000000;">8</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #CD4402; color: #FFFFFF;">8</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #6DCD59; color: #000000;">8</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #E4A300; color: #000000;">8</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #6AED00; color: #000000;">9</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #A23403; color: #FFFFFF;">9</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #B4DE2C; color: #000000;">9</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #EE7000; color: #FFFFFF;">9</td></tr>
    <tr><td headers="red_green" class="gt_row gt_right" style="background-color: #00FF00; color: #000000;">10</td>
<td headers="brewer" class="gt_row gt_right" style="background-color: #7F2704; color: #FFFFFF;">10</td>
<td headers="viridis" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">10</td>
<td headers="zissou" class="gt_row gt_right" style="background-color: #F21A00; color: #FFFFFF;">10</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Notice how in the first column (<code>red_green</code>), there is interpolation between <code>"red"</code> (value <code>1</code>) and <code>"green"</code> (value <code>10</code>). The palette’s colors will be distributed evenly in the range of data available. This is the default behavior, and the range can be set with the <code>domain</code> argument. We can experiment with that using a new table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">values =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"green"</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">7</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Some values were outside the color scale and will be treated as NA</code></pre>
</div>
<div class="cell-output-display">

<div id="kytadzgmlt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kytadzgmlt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kytadzgmlt thead, #kytadzgmlt tbody, #kytadzgmlt tfoot, #kytadzgmlt tr, #kytadzgmlt td, #kytadzgmlt th {
  border-style: none;
}

#kytadzgmlt p {
  margin: 0;
  padding: 0;
}

#kytadzgmlt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kytadzgmlt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kytadzgmlt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kytadzgmlt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kytadzgmlt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kytadzgmlt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kytadzgmlt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kytadzgmlt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kytadzgmlt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kytadzgmlt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kytadzgmlt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kytadzgmlt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kytadzgmlt .gt_spanner_row {
  border-bottom-style: hidden;
}

#kytadzgmlt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kytadzgmlt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kytadzgmlt .gt_from_md > :first-child {
  margin-top: 0;
}

#kytadzgmlt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kytadzgmlt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kytadzgmlt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kytadzgmlt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kytadzgmlt .gt_row_group_first td {
  border-top-width: 2px;
}

#kytadzgmlt .gt_row_group_first th {
  border-top-width: 2px;
}

#kytadzgmlt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kytadzgmlt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kytadzgmlt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kytadzgmlt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kytadzgmlt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kytadzgmlt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kytadzgmlt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kytadzgmlt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kytadzgmlt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kytadzgmlt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kytadzgmlt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kytadzgmlt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kytadzgmlt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kytadzgmlt .gt_left {
  text-align: left;
}

#kytadzgmlt .gt_center {
  text-align: center;
}

#kytadzgmlt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kytadzgmlt .gt_font_normal {
  font-weight: normal;
}

#kytadzgmlt .gt_font_bold {
  font-weight: bold;
}

#kytadzgmlt .gt_font_italic {
  font-style: italic;
}

#kytadzgmlt .gt_super {
  font-size: 65%;
}

#kytadzgmlt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kytadzgmlt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kytadzgmlt .gt_indent_1 {
  text-indent: 5px;
}

#kytadzgmlt .gt_indent_2 {
  text-indent: 10px;
}

#kytadzgmlt .gt_indent_3 {
  text-indent: 15px;
}

#kytadzgmlt .gt_indent_4 {
  text-indent: 20px;
}

#kytadzgmlt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="values">values</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">1</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">2</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #FF0000; color: #FFFFFF;">3</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #E87600; color: #FFFFFF;">4</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #C9AB00; color: #000000;">5</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #98D700; color: #000000;">6</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #00FF00; color: #000000;">7</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">8</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">9</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">10</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>When constraining the domain like this, any values that are outside of it are treated as <code>NA</code> (we even get a warning about it) and given a gray color reserved for <code>NA</code> values. We can use the <code>na_color</code> argument to provide a custom color if <code>"#808080"</code> isn’t suitable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">values =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"green"</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">na_color =</span> <span class="st">"steelblue"</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Some values were outside the color scale and will be treated as NA</code></pre>
</div>
<div class="cell-output-display">

<div id="ffrenzjqzv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ffrenzjqzv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ffrenzjqzv thead, #ffrenzjqzv tbody, #ffrenzjqzv tfoot, #ffrenzjqzv tr, #ffrenzjqzv td, #ffrenzjqzv th {
  border-style: none;
}

#ffrenzjqzv p {
  margin: 0;
  padding: 0;
}

#ffrenzjqzv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ffrenzjqzv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ffrenzjqzv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ffrenzjqzv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ffrenzjqzv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ffrenzjqzv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ffrenzjqzv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ffrenzjqzv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ffrenzjqzv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ffrenzjqzv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ffrenzjqzv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ffrenzjqzv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ffrenzjqzv .gt_spanner_row {
  border-bottom-style: hidden;
}

#ffrenzjqzv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ffrenzjqzv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ffrenzjqzv .gt_from_md > :first-child {
  margin-top: 0;
}

#ffrenzjqzv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ffrenzjqzv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ffrenzjqzv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ffrenzjqzv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ffrenzjqzv .gt_row_group_first td {
  border-top-width: 2px;
}

#ffrenzjqzv .gt_row_group_first th {
  border-top-width: 2px;
}

#ffrenzjqzv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ffrenzjqzv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ffrenzjqzv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ffrenzjqzv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ffrenzjqzv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ffrenzjqzv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ffrenzjqzv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ffrenzjqzv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ffrenzjqzv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ffrenzjqzv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ffrenzjqzv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ffrenzjqzv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ffrenzjqzv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ffrenzjqzv .gt_left {
  text-align: left;
}

#ffrenzjqzv .gt_center {
  text-align: center;
}

#ffrenzjqzv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ffrenzjqzv .gt_font_normal {
  font-weight: normal;
}

#ffrenzjqzv .gt_font_bold {
  font-weight: bold;
}

#ffrenzjqzv .gt_font_italic {
  font-style: italic;
}

#ffrenzjqzv .gt_super {
  font-size: 65%;
}

#ffrenzjqzv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ffrenzjqzv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ffrenzjqzv .gt_indent_1 {
  text-indent: 5px;
}

#ffrenzjqzv .gt_indent_2 {
  text-indent: 10px;
}

#ffrenzjqzv .gt_indent_3 {
  text-indent: 15px;
}

#ffrenzjqzv .gt_indent_4 {
  text-indent: 20px;
}

#ffrenzjqzv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="values">values</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #4682B4; color: #FFFFFF;">1</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #4682B4; color: #FFFFFF;">2</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #FF0000; color: #FFFFFF;">3</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #E87600; color: #FFFFFF;">4</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #C9AB00; color: #000000;">5</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #98D700; color: #000000;">6</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #00FF00; color: #000000;">7</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #4682B4; color: #FFFFFF;">8</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #4682B4; color: #FFFFFF;">9</td></tr>
    <tr><td headers="values" class="gt_row gt_right" style="background-color: #4682B4; color: #FFFFFF;">10</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>We only should provide a single color to <code>na_color</code>, but it’s worth noting that when providing any sort of color, it can be a color name (R/X11 or CSS 3.0) or a hexadecimal string in the form of <code>"#RRGGBB"</code> or <code>"#RRGGBBAA"</code>.</p>
<h2 id="color-mapping-methods" class="anchored">Color mapping methods</h2>
<p>The previous uses of <code>data_color()</code> all used the <code>"numeric"</code> method of color mapping. Let’s take a look at the different methods and how you would use them. It’s instructive to use examples, so here’s one that uses all four <code>method</code> types:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">numeric =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">bin =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">quantile =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">factor =</span> <span class="fu">vec_fmt_spelled_num</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> numeric,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> bin,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"bin"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> quantile,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"quantile"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="dv">5</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> factor,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"factor"</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">vec_fmt_spelled_num</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_width</span>(<span class="fu">everything</span>() <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="zveocdjdcr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zveocdjdcr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zveocdjdcr thead, #zveocdjdcr tbody, #zveocdjdcr tfoot, #zveocdjdcr tr, #zveocdjdcr td, #zveocdjdcr th {
  border-style: none;
}

#zveocdjdcr p {
  margin: 0;
  padding: 0;
}

#zveocdjdcr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zveocdjdcr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zveocdjdcr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zveocdjdcr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zveocdjdcr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zveocdjdcr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zveocdjdcr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zveocdjdcr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zveocdjdcr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zveocdjdcr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zveocdjdcr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zveocdjdcr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zveocdjdcr .gt_spanner_row {
  border-bottom-style: hidden;
}

#zveocdjdcr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zveocdjdcr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zveocdjdcr .gt_from_md > :first-child {
  margin-top: 0;
}

#zveocdjdcr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zveocdjdcr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zveocdjdcr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zveocdjdcr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zveocdjdcr .gt_row_group_first td {
  border-top-width: 2px;
}

#zveocdjdcr .gt_row_group_first th {
  border-top-width: 2px;
}

#zveocdjdcr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zveocdjdcr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zveocdjdcr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zveocdjdcr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zveocdjdcr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zveocdjdcr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zveocdjdcr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zveocdjdcr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zveocdjdcr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zveocdjdcr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zveocdjdcr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zveocdjdcr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zveocdjdcr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zveocdjdcr .gt_left {
  text-align: left;
}

#zveocdjdcr .gt_center {
  text-align: center;
}

#zveocdjdcr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zveocdjdcr .gt_font_normal {
  font-weight: normal;
}

#zveocdjdcr .gt_font_bold {
  font-weight: bold;
}

#zveocdjdcr .gt_font_italic {
  font-style: italic;
}

#zveocdjdcr .gt_super {
  font-size: 65%;
}

#zveocdjdcr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zveocdjdcr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zveocdjdcr .gt_indent_1 {
  text-indent: 5px;
}

#zveocdjdcr .gt_indent_2 {
  text-indent: 10px;
}

#zveocdjdcr .gt_indent_3 {
  text-indent: 15px;
}

#zveocdjdcr .gt_indent_4 {
  text-indent: 20px;
}

#zveocdjdcr .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:100px;">
  </colgroup>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="numeric">numeric</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="bin">bin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quantile">quantile</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="factor">factor</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">1</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">1</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">1</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #440154; color: #FFFFFF;">one</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #482878; color: #FFFFFF;">2</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">2</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">2</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #3B528B; color: #FFFFFF;">two</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #3E4A89; color: #FFFFFF;">3</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">3</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #3B528B; color: #FFFFFF;">3</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #21908D; color: #FFFFFF;">three</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #31688E; color: #FFFFFF;">4</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #440154; color: #FFFFFF;">4</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #3B528B; color: #FFFFFF;">4</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #5DC863; color: #000000;">four</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #26828E; color: #FFFFFF;">5</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #21908D; color: #FFFFFF;">5</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #21908D; color: #FFFFFF;">5</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #FDE725; color: #000000;">five</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #1F9E89; color: #FFFFFF;">6</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #21908D; color: #FFFFFF;">6</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #21908D; color: #FFFFFF;">6</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #440154; color: #FFFFFF;">one</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #35B779; color: #FFFFFF;">7</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">7</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #5DC863; color: #000000;">7</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #3B528B; color: #FFFFFF;">two</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #6DCD59; color: #000000;">8</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">8</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #5DC863; color: #000000;">8</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #21908D; color: #FFFFFF;">three</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #B4DE2C; color: #000000;">9</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">9</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">9</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #5DC863; color: #000000;">four</td></tr>
    <tr><td headers="numeric" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">10</td>
<td headers="bin" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">10</td>
<td headers="quantile" class="gt_row gt_right" style="background-color: #FDE725; color: #000000;">10</td>
<td headers="factor" class="gt_row gt_left" style="background-color: #FDE725; color: #000000;">five</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The first three columns use numbers from <code>1</code> to <code>10</code>, and the different methods (<code>"numeric"</code>, <code>"bin"</code>, and <code>"quantile"</code>) allow us to easily generate a color-mapping function with a few supporting arguments.</p>
<p>In the first column, using <code>method = "numeric"</code> creates a smooth ramp of colors across the <code>"viridis"</code> palette. The second column has the <code>"bin"</code> method applied, and this allows for the construction of bins in the <code>bins</code> argument. The <code>"quantile"</code> method used in the third column subdivides the values into equally-sized bins, settable through the <code>quantiles</code> argument. Finally, the <code>"factor"</code> method is best used for text-based values, as seen in the fourth column (though any type is valid). Factor levels are, by default, alphabetical, but the supporting <code>levels</code> argument lets you specify them directly.</p>
<p>Before <strong>gt</strong> <code>0.9.0</code>, you were <em>required</em> to supply your own color-mapping function. This is still possible with the <code>fn</code> argument. Here’s an example of that using the <code>col_numeric()</code> function from the <strong>scales</strong> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>countrypops <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(country_name <span class="sc">==</span> <span class="st">"Mongolia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"code"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>(<span class="at">columns =</span> population) <span class="sc">|&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> population,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fn =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">palette =</span> <span class="st">"viridis"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">domain =</span> <span class="fu">c</span>(<span class="fl">2.5E6</span>, <span class="fl">3.4E6</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="jhdmxqfhao" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jhdmxqfhao table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jhdmxqfhao thead, #jhdmxqfhao tbody, #jhdmxqfhao tfoot, #jhdmxqfhao tr, #jhdmxqfhao td, #jhdmxqfhao th {
  border-style: none;
}

#jhdmxqfhao p {
  margin: 0;
  padding: 0;
}

#jhdmxqfhao .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jhdmxqfhao .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jhdmxqfhao .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jhdmxqfhao .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jhdmxqfhao .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhdmxqfhao .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhdmxqfhao .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhdmxqfhao .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jhdmxqfhao .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jhdmxqfhao .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jhdmxqfhao .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jhdmxqfhao .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jhdmxqfhao .gt_spanner_row {
  border-bottom-style: hidden;
}

#jhdmxqfhao .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jhdmxqfhao .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jhdmxqfhao .gt_from_md > :first-child {
  margin-top: 0;
}

#jhdmxqfhao .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jhdmxqfhao .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jhdmxqfhao .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jhdmxqfhao .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jhdmxqfhao .gt_row_group_first td {
  border-top-width: 2px;
}

#jhdmxqfhao .gt_row_group_first th {
  border-top-width: 2px;
}

#jhdmxqfhao .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhdmxqfhao .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jhdmxqfhao .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jhdmxqfhao .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhdmxqfhao .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhdmxqfhao .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jhdmxqfhao .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jhdmxqfhao .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jhdmxqfhao .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhdmxqfhao .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhdmxqfhao .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhdmxqfhao .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhdmxqfhao .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhdmxqfhao .gt_left {
  text-align: left;
}

#jhdmxqfhao .gt_center {
  text-align: center;
}

#jhdmxqfhao .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jhdmxqfhao .gt_font_normal {
  font-weight: normal;
}

#jhdmxqfhao .gt_font_bold {
  font-weight: bold;
}

#jhdmxqfhao .gt_font_italic {
  font-style: italic;
}

#jhdmxqfhao .gt_super {
  font-size: 65%;
}

#jhdmxqfhao .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jhdmxqfhao .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jhdmxqfhao .gt_indent_1 {
  text-indent: 5px;
}

#jhdmxqfhao .gt_indent_2 {
  text-indent: 10px;
}

#jhdmxqfhao .gt_indent_3 {
  text-indent: 15px;
}

#jhdmxqfhao .gt_indent_4 {
  text-indent: 20px;
}

#jhdmxqfhao .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="country_name">country_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="population">population</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2012</td>
<td headers="population" class="gt_row gt_right" style="background-color: #31668E; color: #FFFFFF;">2,792,349</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2013</td>
<td headers="population" class="gt_row gt_right" style="background-color: #2B748E; color: #FFFFFF;">2,845,153</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2014</td>
<td headers="population" class="gt_row gt_right" style="background-color: #25838E; color: #FFFFFF;">2,902,823</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2015</td>
<td headers="population" class="gt_row gt_right" style="background-color: #1F948C; color: #FFFFFF;">2,964,749</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2016</td>
<td headers="population" class="gt_row gt_right" style="background-color: #21A585; color: #FFFFFF;">3,029,555</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2017</td>
<td headers="population" class="gt_row gt_right" style="background-color: #34B679; color: #FFFFFF;">3,096,030</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2018</td>
<td headers="population" class="gt_row gt_right" style="background-color: #56C667; color: #000000;">3,163,991</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2019</td>
<td headers="population" class="gt_row gt_right" style="background-color: #83D44C; color: #000000;">3,232,430</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="population" class="gt_row gt_right" style="background-color: #B0DD2F; color: #000000;">3,294,335</td></tr>
    <tr><td headers="country_name" class="gt_row gt_left">Mongolia</td>
<td headers="year" class="gt_row gt_right">2021</td>
<td headers="population" class="gt_row gt_right" style="background-color: #D8E219; color: #000000;">3,347,782</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>If you’re not familiar with the color-mapping functions available in the <strong>scales</strong> package, just know that invoking <code>col_numeric()</code> will return a function (which is what the <code>fn</code> argument actually requires) that takes a vector of numeric values and returns color values.</p>
<p>Using <strong>scales</strong>-based functions in <code>fn</code> can be very useful if you want to make use of the specialized arguments available in the <code>⁠col_*()</code>⁠ functions. You could even supply your own custom function for performing more complex colorizing treatments!</p>
<h2 id="applying-color-to-other-columns" class="anchored">Applying color to other columns</h2>
<p>The <code>data_color()</code> function now lets you apply colorization indirectly to other columns. That is, you can apply colors to a column different from the one used to generate those specific colors. This can be done with the new <code>target_columns</code> argument. Let’s look at how it’s done with a <code>countrypops</code>-based table example.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>countrypops <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(country_code_3 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"FRA"</span>, <span class="st">"GBR"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(year <span class="sc">%%</span> <span class="dv">10</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"code"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">color =</span> <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">"country_name"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>(<span class="at">columns =</span> population) <span class="sc">|&gt;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> population,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">target_columns =</span> color,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>(<span class="fl">4E7</span>, <span class="fl">7E7</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_width</span>(year <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">60</span>), population <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">120</span>), color <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">10</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">column_labels.hidden =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_vertical_padding</span>(<span class="at">scale =</span> <span class="fl">0.65</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="urugfifixx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#urugfifixx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#urugfifixx thead, #urugfifixx tbody, #urugfifixx tfoot, #urugfifixx tr, #urugfifixx td, #urugfifixx th {
  border-style: none;
}

#urugfifixx p {
  margin: 0;
  padding: 0;
}

#urugfifixx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#urugfifixx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#urugfifixx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 2.6px;
  padding-bottom: 2.6px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#urugfifixx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 1.6px;
  padding-bottom: 3.6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#urugfifixx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urugfifixx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urugfifixx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urugfifixx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3.25px;
  padding-bottom: 4.25px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#urugfifixx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#urugfifixx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#urugfifixx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#urugfifixx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3.25px;
  padding-bottom: 3.25px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#urugfifixx .gt_spanner_row {
  border-bottom-style: hidden;
}

#urugfifixx .gt_group_heading {
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#urugfifixx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#urugfifixx .gt_from_md > :first-child {
  margin-top: 0;
}

#urugfifixx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#urugfifixx .gt_row {
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#urugfifixx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#urugfifixx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#urugfifixx .gt_row_group_first td {
  border-top-width: 2px;
}

#urugfifixx .gt_row_group_first th {
  border-top-width: 2px;
}

#urugfifixx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
}

#urugfifixx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#urugfifixx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#urugfifixx .gt_last_summary_row {
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urugfifixx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
}

#urugfifixx .gt_first_grand_summary_row {
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#urugfifixx .gt_last_grand_summary_row_top {
  padding-top: 5.2px;
  padding-bottom: 5.2px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#urugfifixx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#urugfifixx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urugfifixx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urugfifixx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 2.6px;
  padding-bottom: 2.6px;
  padding-left: 5px;
  padding-right: 5px;
}

#urugfifixx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urugfifixx .gt_sourcenote {
  font-size: 90%;
  padding-top: 2.6px;
  padding-bottom: 2.6px;
  padding-left: 5px;
  padding-right: 5px;
}

#urugfifixx .gt_left {
  text-align: left;
}

#urugfifixx .gt_center {
  text-align: center;
}

#urugfifixx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#urugfifixx .gt_font_normal {
  font-weight: normal;
}

#urugfifixx .gt_font_bold {
  font-weight: bold;
}

#urugfifixx .gt_font_italic {
  font-style: italic;
}

#urugfifixx .gt_super {
  font-size: 65%;
}

#urugfifixx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#urugfifixx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#urugfifixx .gt_indent_1 {
  text-indent: 5px;
}

#urugfifixx .gt_indent_2 {
  text-indent: 10px;
}

#urugfifixx .gt_indent_3 {
  text-indent: 15px;
}

#urugfifixx .gt_indent_4 {
  text-indent: 20px;
}

#urugfifixx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col style="width:60px;">
    <col style="width:120px;">
    <col style="width:10px;">
  </colgroup>
  
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="France">France</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="France  year" class="gt_row gt_right">1960</td>
<td headers="France  population" class="gt_row gt_right">46,649,927</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #3E4A89; color: #FFFFFF;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">1970</td>
<td headers="France  population" class="gt_row gt_right">51,724,116</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #2A768E; color: #FFFFFF;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">1980</td>
<td headers="France  population" class="gt_row gt_right">55,052,582</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #21918C; color: #FFFFFF;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">1990</td>
<td headers="France  population" class="gt_row gt_right">58,044,701</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #22A884; color: #FFFFFF;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">2000</td>
<td headers="France  population" class="gt_row gt_right">60,921,384</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #42BE71; color: #000000;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">2010</td>
<td headers="France  population" class="gt_row gt_right">65,030,575</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #90D743; color: #000000;"></td></tr>
    <tr><td headers="France  year" class="gt_row gt_right">2020</td>
<td headers="France  population" class="gt_row gt_right">67,571,107</td>
<td headers="France  color" class="gt_row gt_right" style="background-color: #C9E020; color: #000000;"></td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="United Kingdom">United Kingdom</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="United Kingdom  year" class="gt_row gt_right">1960</td>
<td headers="United Kingdom  population" class="gt_row gt_right">52,400,000</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #297B8E; color: #FFFFFF;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">1970</td>
<td headers="United Kingdom  population" class="gt_row gt_right">55,663,250</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #1F958B; color: #FFFFFF;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">1980</td>
<td headers="United Kingdom  population" class="gt_row gt_right">56,314,216</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #1E9B8A; color: #FFFFFF;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">1990</td>
<td headers="United Kingdom  population" class="gt_row gt_right">57,247,586</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #1FA287; color: #FFFFFF;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">2000</td>
<td headers="United Kingdom  population" class="gt_row gt_right">58,892,514</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #29AF7F; color: #FFFFFF;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">2010</td>
<td headers="United Kingdom  population" class="gt_row gt_right">62,766,365</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #62CB5F; color: #000000;"></td></tr>
    <tr><td headers="United Kingdom  year" class="gt_row gt_right">2020</td>
<td headers="United Kingdom  population" class="gt_row gt_right">67,081,000</td>
<td headers="United Kingdom  color" class="gt_row gt_right" style="background-color: #BEDF26; color: #000000;"></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>So, the colors are based on the data in the <code>population</code> column, but the colors are actually placed in the <code>color</code> column (which was made intentionally ‘blank’ by setting it entirely with empty strings).</p>
<p>When specifying a single column in <code>columns</code>, we can use as many <code>target_columns</code> values as we want. Let’s make another table where we map the generated colors from the <code>year</code> column to all columns in the table. We’ll use the underrated <code>"inferno"</code> palette (from the <code>"viridis"</code> collection) for this one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>countrypops <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(country_code_3 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"FRA"</span>, <span class="st">"GBR"</span>, <span class="st">"ITA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"code"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(year <span class="sc">%%</span> <span class="dv">5</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">"country_name"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">"population"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="fu">everything</span>(), <span class="sc">-</span>year)) <span class="sc">|&gt;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> year,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">target_columns =</span> <span class="fu">everything</span>(),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"inferno"</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_width</span>(</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">80</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>() <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">160</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_all_caps</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_horizontal_padding</span>(<span class="at">scale =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_vertical_padding</span>(<span class="at">scale =</span> <span class="fl">0.75</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">table_body.hlines.style =</span> <span class="st">"none"</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.border.top.color =</span> <span class="st">"black"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">table_body.border.bottom.color =</span> <span class="st">"black"</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="lgyoqkabeb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lgyoqkabeb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lgyoqkabeb thead, #lgyoqkabeb tbody, #lgyoqkabeb tfoot, #lgyoqkabeb tr, #lgyoqkabeb td, #lgyoqkabeb th {
  border-style: none;
}

#lgyoqkabeb p {
  margin: 0;
  padding: 0;
}

#lgyoqkabeb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lgyoqkabeb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lgyoqkabeb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lgyoqkabeb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 2px;
  padding-bottom: 4px;
  padding-left: 15px;
  padding-right: 15px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lgyoqkabeb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lgyoqkabeb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lgyoqkabeb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lgyoqkabeb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3.75px;
  padding-bottom: 4.75px;
  padding-left: 15px;
  padding-right: 15px;
  overflow-x: hidden;
}

#lgyoqkabeb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lgyoqkabeb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lgyoqkabeb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lgyoqkabeb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 3.75px;
  padding-bottom: 3.75px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lgyoqkabeb .gt_spanner_row {
  border-bottom-style: hidden;
}

#lgyoqkabeb .gt_group_heading {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lgyoqkabeb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lgyoqkabeb .gt_from_md > :first-child {
  margin-top: 0;
}

#lgyoqkabeb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lgyoqkabeb .gt_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  margin: 10px;
  border-top-style: none;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lgyoqkabeb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 15px;
  padding-right: 15px;
}

#lgyoqkabeb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 15px;
  padding-right: 15px;
  vertical-align: top;
}

#lgyoqkabeb .gt_row_group_first td {
  border-top-width: 2px;
}

#lgyoqkabeb .gt_row_group_first th {
  border-top-width: 2px;
}

#lgyoqkabeb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
}

#lgyoqkabeb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lgyoqkabeb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lgyoqkabeb .gt_last_summary_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lgyoqkabeb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
}

#lgyoqkabeb .gt_first_grand_summary_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lgyoqkabeb .gt_last_grand_summary_row_top {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lgyoqkabeb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lgyoqkabeb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#lgyoqkabeb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lgyoqkabeb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 15px;
  padding-right: 15px;
}

#lgyoqkabeb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lgyoqkabeb .gt_sourcenote {
  font-size: 90%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 15px;
  padding-right: 15px;
}

#lgyoqkabeb .gt_left {
  text-align: left;
}

#lgyoqkabeb .gt_center {
  text-align: center;
}

#lgyoqkabeb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lgyoqkabeb .gt_font_normal {
  font-weight: normal;
}

#lgyoqkabeb .gt_font_bold {
  font-weight: bold;
}

#lgyoqkabeb .gt_font_italic {
  font-style: italic;
}

#lgyoqkabeb .gt_super {
  font-size: 65%;
}

#lgyoqkabeb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lgyoqkabeb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lgyoqkabeb .gt_indent_1 {
  text-indent: 5px;
}

#lgyoqkabeb .gt_indent_2 {
  text-indent: 10px;
}

#lgyoqkabeb .gt_indent_3 {
  text-indent: 15px;
}

#lgyoqkabeb .gt_indent_4 {
  text-indent: 20px;
}

#lgyoqkabeb .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col style="width:80px;">
    <col style="width:160px;">
    <col style="width:160px;">
    <col style="width:160px;">
  </colgroup>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="France">France</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="United Kingdom">United Kingdom</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Italy">Italy</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #000004; color: #FFFFFF;">1960</td>
<td headers="France" class="gt_row gt_right" style="background-color: #000004; color: #FFFFFF;">46,649,927</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #000004; color: #FFFFFF;">52,400,000</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #000004; color: #FFFFFF;">50,199,700</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #110A30; color: #FFFFFF;">1965</td>
<td headers="France" class="gt_row gt_right" style="background-color: #110A30; color: #FFFFFF;">49,282,756</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #110A30; color: #FFFFFF;">54,348,050</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #110A30; color: #FFFFFF;">52,112,350</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #330A5E; color: #FFFFFF;">1970</td>
<td headers="France" class="gt_row gt_right" style="background-color: #330A5E; color: #FFFFFF;">51,724,116</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #330A5E; color: #FFFFFF;">55,663,250</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #330A5E; color: #FFFFFF;">53,821,850</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #57106E; color: #FFFFFF;">1975</td>
<td headers="France" class="gt_row gt_right" style="background-color: #57106E; color: #FFFFFF;">53,715,733</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #57106E; color: #FFFFFF;">56,225,800</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #57106E; color: #FFFFFF;">55,441,001</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #781C6D; color: #FFFFFF;">1980</td>
<td headers="France" class="gt_row gt_right" style="background-color: #781C6D; color: #FFFFFF;">55,052,582</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #781C6D; color: #FFFFFF;">56,314,216</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #781C6D; color: #FFFFFF;">56,433,883</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #9A2865; color: #FFFFFF;">1985</td>
<td headers="France" class="gt_row gt_right" style="background-color: #9A2865; color: #FFFFFF;">56,569,195</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #9A2865; color: #FFFFFF;">56,550,268</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #9A2865; color: #FFFFFF;">56,593,071</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #BB3655; color: #FFFFFF;">1990</td>
<td headers="France" class="gt_row gt_right" style="background-color: #BB3655; color: #FFFFFF;">58,044,701</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #BB3655; color: #FFFFFF;">57,247,586</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #BB3655; color: #FFFFFF;">56,719,240</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #D84C3E; color: #FFFFFF;">1995</td>
<td headers="France" class="gt_row gt_right" style="background-color: #D84C3E; color: #FFFFFF;">59,543,659</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #D84C3E; color: #FFFFFF;">58,019,030</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #D84C3E; color: #FFFFFF;">56,844,303</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #ED6925; color: #FFFFFF;">2000</td>
<td headers="France" class="gt_row gt_right" style="background-color: #ED6925; color: #FFFFFF;">60,921,384</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #ED6925; color: #FFFFFF;">58,892,514</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #ED6925; color: #FFFFFF;">56,942,108</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #F98D0A; color: #000000;">2005</td>
<td headers="France" class="gt_row gt_right" style="background-color: #F98D0A; color: #000000;">63,188,395</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #F98D0A; color: #000000;">60,401,206</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #F98D0A; color: #000000;">57,969,484</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #FCB519; color: #000000;">2010</td>
<td headers="France" class="gt_row gt_right" style="background-color: #FCB519; color: #000000;">65,030,575</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #FCB519; color: #000000;">62,766,365</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #FCB519; color: #000000;">59,277,417</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #F4DE52; color: #000000;">2015</td>
<td headers="France" class="gt_row gt_right" style="background-color: #F4DE52; color: #000000;">66,548,272</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #F4DE52; color: #000000;">65,116,219</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #F4DE52; color: #000000;">60,730,582</td></tr>
    <tr><td headers="year" class="gt_row gt_right" style="background-color: #FCFFA4; color: #000000;">2020</td>
<td headers="France" class="gt_row gt_right" style="background-color: #FCFFA4; color: #000000;">67,571,107</td>
<td headers="United Kingdom" class="gt_row gt_right" style="background-color: #FCFFA4; color: #000000;">67,081,000</td>
<td headers="Italy" class="gt_row gt_right" style="background-color: #FCFFA4; color: #000000;">59,438,851</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Another interesting thing that can be done now in <code>0.9.0</code> is the task of indirectly applying color in pairs. To do this, we make sure that the resolved number of columns in <code>columns</code> matches the number of columns in <code>target_columns</code>.</p>
<p>The <code>towny</code> dataset has columns with population values at different census years. It also has an associated set of columns that provide the percent change (as fractional values) across census years. In this next example, we will do the following things:</p>
<ol type="1">
<li>perform color mapping on those change values (in <code>columns</code>)</li>
<li>apply the colors indirectly to the population figures (with <code>target_columns</code>)</li>
<li>hide the columns used to generate the color mappings (with <code>cols_hide()</code>)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>towny <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(census_div <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Oxford"</span>, <span class="st">"Essex"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    name, <span class="fu">starts_with</span>(<span class="st">"population"</span>), <span class="fu">ends_with</span>(<span class="st">"pct"</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>population_1996</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"name"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">ends_with</span>(<span class="st">"pct"</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">target_columns =</span> <span class="fu">starts_with</span>(<span class="st">"population"</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"white"</span>, <span class="st">"green"</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">na_color =</span> <span class="st">"lightblue"</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">ends_with</span>(<span class="st">"pct"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label_with</span>(<span class="at">fn =</span> <span class="cf">function</span>(x) <span class="fu">gsub</span>(<span class="st">"population_"</span>, <span class="st">""</span>, x)) <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_vertical_padding</span>(<span class="at">scale =</span> <span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="vzesrugftn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vzesrugftn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vzesrugftn thead, #vzesrugftn tbody, #vzesrugftn tfoot, #vzesrugftn tr, #vzesrugftn td, #vzesrugftn th {
  border-style: none;
}

#vzesrugftn p {
  margin: 0;
  padding: 0;
}

#vzesrugftn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vzesrugftn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vzesrugftn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 2.4px;
  padding-bottom: 2.4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vzesrugftn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 1.4px;
  padding-bottom: 3.4px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vzesrugftn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vzesrugftn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vzesrugftn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vzesrugftn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vzesrugftn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vzesrugftn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vzesrugftn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vzesrugftn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3px;
  padding-bottom: 3px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vzesrugftn .gt_spanner_row {
  border-bottom-style: hidden;
}

#vzesrugftn .gt_group_heading {
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vzesrugftn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vzesrugftn .gt_from_md > :first-child {
  margin-top: 0;
}

#vzesrugftn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vzesrugftn .gt_row {
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vzesrugftn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vzesrugftn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vzesrugftn .gt_row_group_first td {
  border-top-width: 2px;
}

#vzesrugftn .gt_row_group_first th {
  border-top-width: 2px;
}

#vzesrugftn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vzesrugftn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vzesrugftn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vzesrugftn .gt_last_summary_row {
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vzesrugftn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vzesrugftn .gt_first_grand_summary_row {
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vzesrugftn .gt_last_grand_summary_row_top {
  padding-top: 4.8px;
  padding-bottom: 4.8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vzesrugftn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vzesrugftn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vzesrugftn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vzesrugftn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 2.4px;
  padding-bottom: 2.4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vzesrugftn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vzesrugftn .gt_sourcenote {
  font-size: 90%;
  padding-top: 2.4px;
  padding-bottom: 2.4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vzesrugftn .gt_left {
  text-align: left;
}

#vzesrugftn .gt_center {
  text-align: center;
}

#vzesrugftn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vzesrugftn .gt_font_normal {
  font-weight: normal;
}

#vzesrugftn .gt_font_bold {
  font-weight: bold;
}

#vzesrugftn .gt_font_italic {
  font-style: italic;
}

#vzesrugftn .gt_super {
  font-size: 65%;
}

#vzesrugftn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vzesrugftn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vzesrugftn .gt_indent_1 {
  text-indent: 5px;
}

#vzesrugftn .gt_indent_2 {
  text-indent: 10px;
}

#vzesrugftn .gt_indent_3 {
  text-indent: 15px;
}

#vzesrugftn .gt_indent_4 {
  text-indent: 20px;
}

#vzesrugftn .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2001">2001</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2006">2006</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2011">2011</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2016">2016</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2021">2021</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">Amherstburg</th>
<td headers="stub_1_1 population_2001" class="gt_row gt_right" style="background-color: #EFFFE9; color: #000000;">20,339</td>
<td headers="stub_1_1 population_2006" class="gt_row gt_right" style="background-color: #EBFFE3; color: #000000;">21,748</td>
<td headers="stub_1_1 population_2011" class="gt_row gt_right" style="background-color: #FFFCFA; color: #000000;">21,556</td>
<td headers="stub_1_1 population_2016" class="gt_row gt_right" style="background-color: #FAFFF8; color: #000000;">21,936</td>
<td headers="stub_1_1 population_2021" class="gt_row gt_right" style="background-color: #EAFFE2; color: #000000;">23,524</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">Blandford-Blenheim</th>
<td headers="stub_1_2 population_2001" class="gt_row gt_right" style="background-color: #F8FFF6; color: #000000;">7,630</td>
<td headers="stub_1_2 population_2006" class="gt_row gt_right" style="background-color: #FFE7DE; color: #000000;">7,149</td>
<td headers="stub_1_2 population_2011" class="gt_row gt_right" style="background-color: #F7FFF3; color: #000000;">7,359</td>
<td headers="stub_1_2 population_2016" class="gt_row gt_right" style="background-color: #FEFFFD; color: #000000;">7,399</td>
<td headers="stub_1_2 population_2021" class="gt_row gt_right" style="background-color: #F9FFF6; color: #000000;">7,565</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">East Zorra-Tavistock</th>
<td headers="stub_1_3 population_2001" class="gt_row gt_right" style="background-color: #FFF9F7; color: #000000;">7,238</td>
<td headers="stub_1_3 population_2006" class="gt_row gt_right" style="background-color: #FFF3EE; color: #000000;">7,008</td>
<td headers="stub_1_3 population_2011" class="gt_row gt_right" style="background-color: #FFF6F2; color: #000000;">6,836</td>
<td headers="stub_1_3 population_2016" class="gt_row gt_right" style="background-color: #F4FFEF; color: #000000;">7,113</td>
<td headers="stub_1_3 population_2021" class="gt_row gt_right" style="background-color: #E2FFD6; color: #000000;">7,841</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub">Essex</th>
<td headers="stub_1_4 population_2001" class="gt_row gt_right" style="background-color: #F6FFF2; color: #000000;">20,085</td>
<td headers="stub_1_4 population_2006" class="gt_row gt_right" style="background-color: #FFFEFE; color: #000000;">20,032</td>
<td headers="stub_1_4 population_2011" class="gt_row gt_right" style="background-color: #FFF7F4; color: #000000;">19,600</td>
<td headers="stub_1_4 population_2016" class="gt_row gt_right" style="background-color: #F3FFEE; color: #000000;">20,427</td>
<td headers="stub_1_4 population_2021" class="gt_row gt_right" style="background-color: #F4FFF0; color: #000000;">21,216</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub">Ingersoll</th>
<td headers="stub_1_5 population_2001" class="gt_row gt_right" style="background-color: #F2FFED; color: #000000;">10,977</td>
<td headers="stub_1_5 population_2006" class="gt_row gt_right" style="background-color: #EBFFE3; color: #000000;">11,760</td>
<td headers="stub_1_5 population_2011" class="gt_row gt_right" style="background-color: #F6FFF2; color: #000000;">12,146</td>
<td headers="stub_1_5 population_2016" class="gt_row gt_right" style="background-color: #F1FFEB; color: #000000;">12,757</td>
<td headers="stub_1_5 population_2021" class="gt_row gt_right" style="background-color: #EAFFE2; color: #000000;">13,693</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_left gt_stub">Kingsville</th>
<td headers="stub_1_6 population_2001" class="gt_row gt_right" style="background-color: #ECFFE5; color: #000000;">19,619</td>
<td headers="stub_1_6 population_2006" class="gt_row gt_right" style="background-color: #ECFFE5; color: #000000;">20,908</td>
<td headers="stub_1_6 population_2011" class="gt_row gt_right" style="background-color: #F9FFF6; color: #000000;">21,362</td>
<td headers="stub_1_6 population_2016" class="gt_row gt_right" style="background-color: #FDFFFB; color: #000000;">21,552</td>
<td headers="stub_1_6 population_2021" class="gt_row gt_right" style="background-color: #F8FFF5; color: #000000;">22,119</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_left gt_stub">Lakeshore</th>
<td headers="stub_1_7 population_2001" class="gt_row gt_right" style="background-color: #E2FFD7; color: #000000;">28,746</td>
<td headers="stub_1_7 population_2006" class="gt_row gt_right" style="background-color: #D1FFC0; color: #000000;">33,245</td>
<td headers="stub_1_7 population_2011" class="gt_row gt_right" style="background-color: #F4FFEF; color: #000000;">34,546</td>
<td headers="stub_1_7 population_2016" class="gt_row gt_right" style="background-color: #EEFFE7; color: #000000;">36,611</td>
<td headers="stub_1_7 population_2021" class="gt_row gt_right" style="background-color: #E1FFD6; color: #000000;">40,410</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_left gt_stub">LaSalle</th>
<td headers="stub_1_8 population_2001" class="gt_row gt_right" style="background-color: #B8FFA3; color: #000000;">25,285</td>
<td headers="stub_1_8 population_2006" class="gt_row gt_right" style="background-color: #E4FFDA; color: #000000;">27,652</td>
<td headers="stub_1_8 population_2011" class="gt_row gt_right" style="background-color: #F5FFF1; color: #000000;">28,643</td>
<td headers="stub_1_8 population_2016" class="gt_row gt_right" style="background-color: #F0FFEA; color: #000000;">30,180</td>
<td headers="stub_1_8 population_2021" class="gt_row gt_right" style="background-color: #E7FFDD; color: #000000;">32,721</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_left gt_stub">Leamington</th>
<td headers="stub_1_9 population_2001" class="gt_row gt_right" style="background-color: #EBFFE4; color: #000000;">27,138</td>
<td headers="stub_1_9 population_2006" class="gt_row gt_right" style="background-color: #EDFFE6; color: #000000;">28,833</td>
<td headers="stub_1_9 population_2011" class="gt_row gt_right" style="background-color: #FFF9F7; color: #000000;">28,403</td>
<td headers="stub_1_9 population_2016" class="gt_row gt_right" style="background-color: #FFF4F0; color: #000000;">27,595</td>
<td headers="stub_1_9 population_2021" class="gt_row gt_right" style="background-color: #E9FFE1; color: #000000;">29,680</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_left gt_stub">Norwich</th>
<td headers="stub_1_10 population_2001" class="gt_row gt_right" style="background-color: #FFFAF8; color: #000000;">10,478</td>
<td headers="stub_1_10 population_2006" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">10,481</td>
<td headers="stub_1_10 population_2011" class="gt_row gt_right" style="background-color: #F9FFF6; color: #000000;">10,721</td>
<td headers="stub_1_10 population_2016" class="gt_row gt_right" style="background-color: #FCFFFB; color: #000000;">10,835</td>
<td headers="stub_1_10 population_2021" class="gt_row gt_right" style="background-color: #F7FFF3; color: #000000;">11,151</td></tr>
    <tr><th id="stub_1_11" scope="row" class="gt_row gt_left gt_stub">Pelee</th>
<td headers="stub_1_11 population_2001" class="gt_row gt_right" style="background-color: #FFDBCE; color: #000000;">256</td>
<td headers="stub_1_11 population_2006" class="gt_row gt_right" style="background-color: #DCFFCF; color: #000000;">287</td>
<td headers="stub_1_11 population_2011" class="gt_row gt_right" style="background-color: #FF5938; color: #FFFFFF;">171</td>
<td headers="stub_1_11 population_2016" class="gt_row gt_right" style="background-color: #7DFF64; color: #000000;">235</td>
<td headers="stub_1_11 population_2021" class="gt_row gt_right" style="background-color: #FFF7F4; color: #000000;">230</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_left gt_stub">South-West Oxford</th>
<td headers="stub_1_12 population_2001" class="gt_row gt_right" style="background-color: #FFE1D6; color: #000000;">7,782</td>
<td headers="stub_1_12 population_2006" class="gt_row gt_right" style="background-color: #FFF6F2; color: #000000;">7,589</td>
<td headers="stub_1_12 population_2011" class="gt_row gt_right" style="background-color: #FFFDFC; color: #000000;">7,544</td>
<td headers="stub_1_12 population_2016" class="gt_row gt_right" style="background-color: #FCFFFA; color: #000000;">7,634</td>
<td headers="stub_1_12 population_2021" class="gt_row gt_right" style="background-color: #FFFCFB; color: #000000;">7,583</td></tr>
    <tr><th id="stub_1_13" scope="row" class="gt_row gt_left gt_stub">Tecumseh</th>
<td headers="stub_1_13 population_2001" class="gt_row gt_right" style="background-color: #E7FFDD; color: #000000;">25,105</td>
<td headers="stub_1_13 population_2006" class="gt_row gt_right" style="background-color: #FFF2ED; color: #000000;">24,224</td>
<td headers="stub_1_13 population_2011" class="gt_row gt_right" style="background-color: #FFF5F2; color: #000000;">23,610</td>
<td headers="stub_1_13 population_2016" class="gt_row gt_right" style="background-color: #FFF9F7; color: #000000;">23,229</td>
<td headers="stub_1_13 population_2021" class="gt_row gt_right" style="background-color: #FEFFFE; color: #000000;">23,300</td></tr>
    <tr><th id="stub_1_14" scope="row" class="gt_row gt_left gt_stub">Tillsonburg</th>
<td headers="stub_1_14 population_2001" class="gt_row gt_right" style="background-color: #EDFFE6; color: #000000;">14,052</td>
<td headers="stub_1_14 population_2006" class="gt_row gt_right" style="background-color: #F0FFE9; color: #000000;">14,822</td>
<td headers="stub_1_14 population_2011" class="gt_row gt_right" style="background-color: #F6FFF2; color: #000000;">15,301</td>
<td headers="stub_1_14 population_2016" class="gt_row gt_right" style="background-color: #F5FFF0; color: #000000;">15,872</td>
<td headers="stub_1_14 population_2021" class="gt_row gt_right" style="background-color: #CCFFBA; color: #000000;">18,615</td></tr>
    <tr><th id="stub_1_15" scope="row" class="gt_row gt_left gt_stub">Windsor</th>
<td headers="stub_1_15 population_2001" class="gt_row gt_right" style="background-color: #F0FFE9; color: #000000;">208,402</td>
<td headers="stub_1_15 population_2006" class="gt_row gt_right" style="background-color: #F4FFF0; color: #000000;">216,473</td>
<td headers="stub_1_15 population_2011" class="gt_row gt_right" style="background-color: #FFF5F1; color: #000000;">210,891</td>
<td headers="stub_1_15 population_2016" class="gt_row gt_right" style="background-color: #F7FFF3; color: #000000;">217,188</td>
<td headers="stub_1_15 population_2021" class="gt_row gt_right" style="background-color: #EFFFE8; color: #000000;">229,660</td></tr>
    <tr><th id="stub_1_16" scope="row" class="gt_row gt_left gt_stub">Woodstock</th>
<td headers="stub_1_16 population_2001" class="gt_row gt_right" style="background-color: #F8FFF5; color: #000000;">33,061</td>
<td headers="stub_1_16 population_2006" class="gt_row gt_right" style="background-color: #E7FFDE; color: #000000;">35,822</td>
<td headers="stub_1_16 population_2011" class="gt_row gt_right" style="background-color: #F0FFE9; color: #000000;">37,754</td>
<td headers="stub_1_16 population_2016" class="gt_row gt_right" style="background-color: #E6FFDC; color: #000000;">41,098</td>
<td headers="stub_1_16 population_2021" class="gt_row gt_right" style="background-color: #D7FFC9; color: #000000;">46,705</td></tr>
    <tr><th id="stub_1_17" scope="row" class="gt_row gt_left gt_stub">Zorra</th>
<td headers="stub_1_17 population_2001" class="gt_row gt_right" style="background-color: #FFFBF9; color: #000000;">8,052</td>
<td headers="stub_1_17 population_2006" class="gt_row gt_right" style="background-color: #FCFFFB; color: #000000;">8,125</td>
<td headers="stub_1_17 population_2011" class="gt_row gt_right" style="background-color: #FFFCFB; color: #000000;">8,058</td>
<td headers="stub_1_17 population_2016" class="gt_row gt_right" style="background-color: #FCFFFB; color: #000000;">8,138</td>
<td headers="stub_1_17 population_2021" class="gt_row gt_right" style="background-color: #EEFFE7; color: #000000;">8,628</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>We used a few more <strong>gt</strong> functions to clean up the table somewhat, but the bulk of the presentation lies in the use of <code>data_color()</code>. Because this is a fairly complex example, we recommended running the code in a statement-by-statement manner to see how each function call changes the output table.</p>
<p>An important note to make here is that the order of columns in both the <code>columns</code> and <code>target_columns</code> arguments should match the intended mapping order. That is the case in the above example, but other situations might vary (thus, it’s important to keep this in mind).</p>
<h2 id="row-wise-color-mapping" class="anchored">Row-wise color mapping</h2>
<p>Colorization can now occur in a row-wise manner. The key to making that happen is by using <code>direction = "row"</code>. Let’s try this out using the <code>sza</code> dataset. After some very necessary <strong>dplyr</strong> and <strong>tidyr</strong> work, we’ll put that data into a <strong>gt</strong> table and apply color to values across each ‘month’ of data in that table. We won’t set a <code>domain</code> value and instead use the bounds of the data in each row.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sza <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(latitude <span class="sc">==</span> <span class="dv">20</span> <span class="sc">&amp;</span> tst <span class="sc">&lt;=</span> <span class="st">"1200"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>latitude) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sza)) <span class="sc">|&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> tst,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> sza,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sort =</span> <span class="cn">TRUE</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"month"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">direction =</span> <span class="st">"row"</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"PuOr"</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">na_color =</span> <span class="st">"white"</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="fu">px</span>(<span class="dv">12</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_vertical_padding</span>(<span class="at">scale =</span> <span class="fl">0.75</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="omfoeiykys" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#omfoeiykys table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#omfoeiykys thead, #omfoeiykys tbody, #omfoeiykys tfoot, #omfoeiykys tr, #omfoeiykys td, #omfoeiykys th {
  border-style: none;
}

#omfoeiykys p {
  margin: 0;
  padding: 0;
}

#omfoeiykys .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#omfoeiykys .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#omfoeiykys .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#omfoeiykys .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 2px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#omfoeiykys .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#omfoeiykys .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#omfoeiykys .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#omfoeiykys .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3.75px;
  padding-bottom: 4.75px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#omfoeiykys .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#omfoeiykys .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#omfoeiykys .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#omfoeiykys .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 3.75px;
  padding-bottom: 3.75px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#omfoeiykys .gt_spanner_row {
  border-bottom-style: hidden;
}

#omfoeiykys .gt_group_heading {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#omfoeiykys .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#omfoeiykys .gt_from_md > :first-child {
  margin-top: 0;
}

#omfoeiykys .gt_from_md > :last-child {
  margin-bottom: 0;
}

#omfoeiykys .gt_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#omfoeiykys .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#omfoeiykys .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#omfoeiykys .gt_row_group_first td {
  border-top-width: 2px;
}

#omfoeiykys .gt_row_group_first th {
  border-top-width: 2px;
}

#omfoeiykys .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
}

#omfoeiykys .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#omfoeiykys .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#omfoeiykys .gt_last_summary_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#omfoeiykys .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
}

#omfoeiykys .gt_first_grand_summary_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#omfoeiykys .gt_last_grand_summary_row_top {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#omfoeiykys .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#omfoeiykys .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#omfoeiykys .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#omfoeiykys .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#omfoeiykys .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#omfoeiykys .gt_sourcenote {
  font-size: 90%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#omfoeiykys .gt_left {
  text-align: left;
}

#omfoeiykys .gt_center {
  text-align: center;
}

#omfoeiykys .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#omfoeiykys .gt_font_normal {
  font-weight: normal;
}

#omfoeiykys .gt_font_bold {
  font-weight: bold;
}

#omfoeiykys .gt_font_italic {
  font-style: italic;
}

#omfoeiykys .gt_super {
  font-size: 65%;
}

#omfoeiykys .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#omfoeiykys .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#omfoeiykys .gt_indent_1 {
  text-indent: 5px;
}

#omfoeiykys .gt_indent_2 {
  text-indent: 10px;
}

#omfoeiykys .gt_indent_3 {
  text-indent: 15px;
}

#omfoeiykys .gt_indent_4 {
  text-indent: 20px;
}

#omfoeiykys .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0530">0530</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0600">0600</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0630">0630</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0700">0700</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0730">0730</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0800">0800</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0830">0830</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0900">0900</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0930">0930</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1000">1000</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1030">1030</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1100">1100</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1130">1130</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1200">1200</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">jan</th>
<td headers="stub_1_1 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_1 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_1 0630" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_1 0700" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">84.9</td>
<td headers="stub_1_1 0730" class="gt_row gt_right" style="background-color: #6A4C99; color: #FFFFFF;">78.7</td>
<td headers="stub_1_1 0800" class="gt_row gt_right" style="background-color: #AEA6CF; color: #000000;">72.7</td>
<td headers="stub_1_1 0830" class="gt_row gt_right" style="background-color: #E7E8F1; color: #000000;">66.1</td>
<td headers="stub_1_1 0900" class="gt_row gt_right" style="background-color: #FCE9D1; color: #000000;">61.5</td>
<td headers="stub_1_1 0930" class="gt_row gt_right" style="background-color: #FEC176; color: #000000;">56.5</td>
<td headers="stub_1_1 1000" class="gt_row gt_right" style="background-color: #E58B25; color: #FFFFFF;">52.1</td>
<td headers="stub_1_1 1030" class="gt_row gt_right" style="background-color: #BF6309; color: #FFFFFF;">48.3</td>
<td headers="stub_1_1 1100" class="gt_row gt_right" style="background-color: #9E4C07; color: #FFFFFF;">45.5</td>
<td headers="stub_1_1 1130" class="gt_row gt_right" style="background-color: #863F08; color: #FFFFFF;">43.6</td>
<td headers="stub_1_1 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">43.0</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">feb</th>
<td headers="stub_1_2 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_2 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_2 0630" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">88.9</td>
<td headers="stub_1_2 0700" class="gt_row gt_right" style="background-color: #5F3A91; color: #FFFFFF;">82.5</td>
<td headers="stub_1_2 0730" class="gt_row gt_right" style="background-color: #9B90C0; color: #FFFFFF;">75.8</td>
<td headers="stub_1_2 0800" class="gt_row gt_right" style="background-color: #CECDE4; color: #000000;">69.6</td>
<td headers="stub_1_2 0830" class="gt_row gt_right" style="background-color: #F6F6F6; color: #000000;">63.3</td>
<td headers="stub_1_2 0900" class="gt_row gt_right" style="background-color: #FEDFB3; color: #000000;">57.7</td>
<td headers="stub_1_2 0930" class="gt_row gt_right" style="background-color: #FAB35C; color: #000000;">52.2</td>
<td headers="stub_1_2 1000" class="gt_row gt_right" style="background-color: #DF8114; color: #FFFFFF;">47.4</td>
<td headers="stub_1_2 1030" class="gt_row gt_right" style="background-color: #B95E08; color: #FFFFFF;">43.1</td>
<td headers="stub_1_2 1100" class="gt_row gt_right" style="background-color: #9B4A07; color: #FFFFFF;">40.0</td>
<td headers="stub_1_2 1130" class="gt_row gt_right" style="background-color: #853E08; color: #FFFFFF;">37.8</td>
<td headers="stub_1_2 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">37.2</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">mar</th>
<td headers="stub_1_3 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_3 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_3 0630" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">85.7</td>
<td headers="stub_1_3 0700" class="gt_row gt_right" style="background-color: #5D368F; color: #FFFFFF;">78.8</td>
<td headers="stub_1_3 0730" class="gt_row gt_right" style="background-color: #9287BA; color: #FFFFFF;">72.0</td>
<td headers="stub_1_3 0800" class="gt_row gt_right" style="background-color: #C6C4DF; color: #000000;">65.2</td>
<td headers="stub_1_3 0830" class="gt_row gt_right" style="background-color: #EDEDF3; color: #000000;">58.6</td>
<td headers="stub_1_3 0900" class="gt_row gt_right" style="background-color: #FDE5C6; color: #000000;">52.3</td>
<td headers="stub_1_3 0930" class="gt_row gt_right" style="background-color: #FEC073; color: #000000;">46.2</td>
<td headers="stub_1_3 1000" class="gt_row gt_right" style="background-color: #E68D28; color: #FFFFFF;">40.5</td>
<td headers="stub_1_3 1030" class="gt_row gt_right" style="background-color: #C2660B; color: #FFFFFF;">35.5</td>
<td headers="stub_1_3 1100" class="gt_row gt_right" style="background-color: #A04D07; color: #FFFFFF;">31.4</td>
<td headers="stub_1_3 1130" class="gt_row gt_right" style="background-color: #873F08; color: #FFFFFF;">28.6</td>
<td headers="stub_1_3 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">27.7</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">apr</th>
<td headers="stub_1_4 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_4 0600" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">88.5</td>
<td headers="stub_1_4 0630" class="gt_row gt_right" style="background-color: #522585; color: #FFFFFF;">81.5</td>
<td headers="stub_1_4 0700" class="gt_row gt_right" style="background-color: #7D6EAA; color: #FFFFFF;">74.4</td>
<td headers="stub_1_4 0730" class="gt_row gt_right" style="background-color: #ACA5CE; color: #000000;">67.4</td>
<td headers="stub_1_4 0800" class="gt_row gt_right" style="background-color: #D3D3E8; color: #000000;">60.3</td>
<td headers="stub_1_4 0830" class="gt_row gt_right" style="background-color: #F1F1F5; color: #000000;">53.4</td>
<td headers="stub_1_4 0900" class="gt_row gt_right" style="background-color: #FDE6C6; color: #000000;">46.5</td>
<td headers="stub_1_4 0930" class="gt_row gt_right" style="background-color: #FFC57D; color: #000000;">39.7</td>
<td headers="stub_1_4 1000" class="gt_row gt_right" style="background-color: #ED993A; color: #000000;">33.2</td>
<td headers="stub_1_4 1030" class="gt_row gt_right" style="background-color: #CC6F0E; color: #FFFFFF;">26.9</td>
<td headers="stub_1_4 1100" class="gt_row gt_right" style="background-color: #A85207; color: #FFFFFF;">21.3</td>
<td headers="stub_1_4 1130" class="gt_row gt_right" style="background-color: #8B4208; color: #FFFFFF;">17.2</td>
<td headers="stub_1_4 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">15.5</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">may</th>
<td headers="stub_1_5 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_5 0600" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">85.0</td>
<td headers="stub_1_5 0630" class="gt_row gt_right" style="background-color: #4E217E; color: #FFFFFF;">78.2</td>
<td headers="stub_1_5 0700" class="gt_row gt_right" style="background-color: #755EA2; color: #FFFFFF;">71.2</td>
<td headers="stub_1_5 0730" class="gt_row gt_right" style="background-color: #9D93C2; color: #FFFFFF;">64.3</td>
<td headers="stub_1_5 0800" class="gt_row gt_right" style="background-color: #C4C1DE; color: #000000;">57.2</td>
<td headers="stub_1_5 0830" class="gt_row gt_right" style="background-color: #E3E4EF; color: #000000;">50.2</td>
<td headers="stub_1_5 0900" class="gt_row gt_right" style="background-color: #F9F2E8; color: #000000;">43.2</td>
<td headers="stub_1_5 0930" class="gt_row gt_right" style="background-color: #FFDBAD; color: #000000;">36.1</td>
<td headers="stub_1_5 1000" class="gt_row gt_right" style="background-color: #FDB864; color: #000000;">29.1</td>
<td headers="stub_1_5 1030" class="gt_row gt_right" style="background-color: #F3A449; color: #000000;">26.1</td>
<td headers="stub_1_5 1100" class="gt_row gt_right" style="background-color: #BF6309; color: #FFFFFF;">15.2</td>
<td headers="stub_1_5 1130" class="gt_row gt_right" style="background-color: #974908; color: #FFFFFF;">8.8</td>
<td headers="stub_1_5 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">5.0</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">jun</th>
<td headers="stub_1_6 0530" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">89.2</td>
<td headers="stub_1_6 0600" class="gt_row gt_right" style="background-color: #4A1D78; color: #FFFFFF;">82.7</td>
<td headers="stub_1_6 0630" class="gt_row gt_right" style="background-color: #6C4F9B; color: #FFFFFF;">76.0</td>
<td headers="stub_1_6 0700" class="gt_row gt_right" style="background-color: #8E82B7; color: #FFFFFF;">69.3</td>
<td headers="stub_1_6 0730" class="gt_row gt_right" style="background-color: #B4AED4; color: #000000;">62.5</td>
<td headers="stub_1_6 0800" class="gt_row gt_right" style="background-color: #D2D2E7; color: #000000;">55.7</td>
<td headers="stub_1_6 0830" class="gt_row gt_right" style="background-color: #ECECF3; color: #000000;">48.8</td>
<td headers="stub_1_6 0900" class="gt_row gt_right" style="background-color: #FBEDDB; color: #000000;">41.9</td>
<td headers="stub_1_6 0930" class="gt_row gt_right" style="background-color: #FFD7A4; color: #000000;">35.0</td>
<td headers="stub_1_6 1000" class="gt_row gt_right" style="background-color: #FDB863; color: #000000;">28.1</td>
<td headers="stub_1_6 1030" class="gt_row gt_right" style="background-color: #E68C27; color: #FFFFFF;">21.1</td>
<td headers="stub_1_6 1100" class="gt_row gt_right" style="background-color: #C5690B; color: #FFFFFF;">14.2</td>
<td headers="stub_1_6 1130" class="gt_row gt_right" style="background-color: #9E4C07; color: #FFFFFF;">7.3</td>
<td headers="stub_1_6 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">2.0</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">jul</th>
<td headers="stub_1_7 0530" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">88.8</td>
<td headers="stub_1_7 0600" class="gt_row gt_right" style="background-color: #4A1E79; color: #FFFFFF;">82.3</td>
<td headers="stub_1_7 0630" class="gt_row gt_right" style="background-color: #6C509B; color: #FFFFFF;">75.7</td>
<td headers="stub_1_7 0700" class="gt_row gt_right" style="background-color: #8F83B7; color: #FFFFFF;">69.1</td>
<td headers="stub_1_7 0730" class="gt_row gt_right" style="background-color: #B5AFD4; color: #000000;">62.3</td>
<td headers="stub_1_7 0800" class="gt_row gt_right" style="background-color: #D4D5E8; color: #000000;">55.5</td>
<td headers="stub_1_7 0830" class="gt_row gt_right" style="background-color: #EDEEF3; color: #000000;">48.7</td>
<td headers="stub_1_7 0900" class="gt_row gt_right" style="background-color: #FCECD7; color: #000000;">41.8</td>
<td headers="stub_1_7 0930" class="gt_row gt_right" style="background-color: #FFD59F; color: #000000;">35.0</td>
<td headers="stub_1_7 1000" class="gt_row gt_right" style="background-color: #FBB35D; color: #000000;">28.1</td>
<td headers="stub_1_7 1030" class="gt_row gt_right" style="background-color: #E48820; color: #FFFFFF;">21.2</td>
<td headers="stub_1_7 1100" class="gt_row gt_right" style="background-color: #C1650A; color: #FFFFFF;">14.3</td>
<td headers="stub_1_7 1130" class="gt_row gt_right" style="background-color: #9B4A07; color: #FFFFFF;">7.7</td>
<td headers="stub_1_7 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">3.1</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">aug</th>
<td headers="stub_1_8 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_8 0600" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">83.8</td>
<td headers="stub_1_8 0630" class="gt_row gt_right" style="background-color: #4D207C; color: #FFFFFF;">77.1</td>
<td headers="stub_1_8 0700" class="gt_row gt_right" style="background-color: #725AA0; color: #FFFFFF;">70.2</td>
<td headers="stub_1_8 0730" class="gt_row gt_right" style="background-color: #998FBF; color: #FFFFFF;">63.3</td>
<td headers="stub_1_8 0800" class="gt_row gt_right" style="background-color: #BFBBDB; color: #000000;">56.4</td>
<td headers="stub_1_8 0830" class="gt_row gt_right" style="background-color: #DEE0ED; color: #000000;">49.4</td>
<td headers="stub_1_8 0900" class="gt_row gt_right" style="background-color: #F8F6F3; color: #000000;">42.4</td>
<td headers="stub_1_8 0930" class="gt_row gt_right" style="background-color: #FEE2BC; color: #000000;">35.4</td>
<td headers="stub_1_8 1000" class="gt_row gt_right" style="background-color: #FEC176; color: #000000;">28.3</td>
<td headers="stub_1_8 1030" class="gt_row gt_right" style="background-color: #EB9635; color: #000000;">21.3</td>
<td headers="stub_1_8 1100" class="gt_row gt_right" style="background-color: #CA6D0D; color: #FFFFFF;">14.3</td>
<td headers="stub_1_8 1130" class="gt_row gt_right" style="background-color: #A14E07; color: #FFFFFF;">7.3</td>
<td headers="stub_1_8 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">1.9</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_center gt_stub">sep</th>
<td headers="stub_1_9 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_9 0600" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">87.2</td>
<td headers="stub_1_9 0630" class="gt_row gt_right" style="background-color: #512483; color: #FFFFFF;">80.2</td>
<td headers="stub_1_9 0700" class="gt_row gt_right" style="background-color: #7A68A7; color: #FFFFFF;">73.2</td>
<td headers="stub_1_9 0730" class="gt_row gt_right" style="background-color: #A79FCA; color: #000000;">66.1</td>
<td headers="stub_1_9 0800" class="gt_row gt_right" style="background-color: #CDCDE4; color: #000000;">59.1</td>
<td headers="stub_1_9 0830" class="gt_row gt_right" style="background-color: #ECEDF3; color: #000000;">52.1</td>
<td headers="stub_1_9 0900" class="gt_row gt_right" style="background-color: #FCEAD2; color: #000000;">45.1</td>
<td headers="stub_1_9 0930" class="gt_row gt_right" style="background-color: #FFCC8D; color: #000000;">38.1</td>
<td headers="stub_1_9 1000" class="gt_row gt_right" style="background-color: #F2A347; color: #000000;">31.3</td>
<td headers="stub_1_9 1030" class="gt_row gt_right" style="background-color: #D47710; color: #FFFFFF;">24.7</td>
<td headers="stub_1_9 1100" class="gt_row gt_right" style="background-color: #AF5606; color: #FFFFFF;">18.6</td>
<td headers="stub_1_9 1130" class="gt_row gt_right" style="background-color: #8D4308; color: #FFFFFF;">13.7</td>
<td headers="stub_1_9 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">11.6</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_center gt_stub">oct</th>
<td headers="stub_1_10 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_10 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_10 0630" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">84.1</td>
<td headers="stub_1_10 0700" class="gt_row gt_right" style="background-color: #5B338D; color: #FFFFFF;">77.1</td>
<td headers="stub_1_10 0730" class="gt_row gt_right" style="background-color: #8E82B7; color: #FFFFFF;">70.2</td>
<td headers="stub_1_10 0800" class="gt_row gt_right" style="background-color: #C2BEDC; color: #000000;">63.3</td>
<td headers="stub_1_10 0830" class="gt_row gt_right" style="background-color: #E8E9F1; color: #000000;">56.5</td>
<td headers="stub_1_10 0900" class="gt_row gt_right" style="background-color: #FCE9CF; color: #000000;">49.9</td>
<td headers="stub_1_10 0930" class="gt_row gt_right" style="background-color: #FFC680; color: #000000;">43.5</td>
<td headers="stub_1_10 1000" class="gt_row gt_right" style="background-color: #EB9535; color: #000000;">37.5</td>
<td headers="stub_1_10 1030" class="gt_row gt_right" style="background-color: #C76B0C; color: #FFFFFF;">32.0</td>
<td headers="stub_1_10 1100" class="gt_row gt_right" style="background-color: #A34F07; color: #FFFFFF;">27.4</td>
<td headers="stub_1_10 1130" class="gt_row gt_right" style="background-color: #894108; color: #FFFFFF;">24.3</td>
<td headers="stub_1_10 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">23.1</td></tr>
    <tr><th id="stub_1_11" scope="row" class="gt_row gt_center gt_stub">nov</th>
<td headers="stub_1_11 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_11 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_11 0630" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">87.8</td>
<td headers="stub_1_11 0700" class="gt_row gt_right" style="background-color: #5E3890; color: #FFFFFF;">81.3</td>
<td headers="stub_1_11 0730" class="gt_row gt_right" style="background-color: #988EBF; color: #FFFFFF;">74.5</td>
<td headers="stub_1_11 0800" class="gt_row gt_right" style="background-color: #CBC9E2; color: #000000;">68.3</td>
<td headers="stub_1_11 0830" class="gt_row gt_right" style="background-color: #F3F3F5; color: #000000;">61.8</td>
<td headers="stub_1_11 0900" class="gt_row gt_right" style="background-color: #FEE1B9; color: #000000;">56.0</td>
<td headers="stub_1_11 0930" class="gt_row gt_right" style="background-color: #FCB660; color: #000000;">50.2</td>
<td headers="stub_1_11 1000" class="gt_row gt_right" style="background-color: #E18419; color: #FFFFFF;">45.3</td>
<td headers="stub_1_11 1030" class="gt_row gt_right" style="background-color: #BB5F08; color: #FFFFFF;">40.7</td>
<td headers="stub_1_11 1100" class="gt_row gt_right" style="background-color: #9C4B07; color: #FFFFFF;">37.4</td>
<td headers="stub_1_11 1130" class="gt_row gt_right" style="background-color: #863F08; color: #FFFFFF;">35.1</td>
<td headers="stub_1_11 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">34.4</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_center gt_stub">dec</th>
<td headers="stub_1_12 0530" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_12 0600" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_12 0630" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;"></td>
<td headers="stub_1_12 0700" class="gt_row gt_right" style="background-color: #2D004B; color: #FFFFFF;">84.3</td>
<td headers="stub_1_12 0730" class="gt_row gt_right" style="background-color: #6A4C99; color: #FFFFFF;">78.0</td>
<td headers="stub_1_12 0800" class="gt_row gt_right" style="background-color: #AFA8D0; color: #000000;">71.8</td>
<td headers="stub_1_12 0830" class="gt_row gt_right" style="background-color: #E1E2EE; color: #000000;">66.1</td>
<td headers="stub_1_12 0900" class="gt_row gt_right" style="background-color: #FCE9D0; color: #000000;">60.5</td>
<td headers="stub_1_12 0930" class="gt_row gt_right" style="background-color: #FEC278; color: #000000;">55.6</td>
<td headers="stub_1_12 1000" class="gt_row gt_right" style="background-color: #E48A23; color: #FFFFFF;">50.9</td>
<td headers="stub_1_12 1030" class="gt_row gt_right" style="background-color: #BF6309; color: #FFFFFF;">47.2</td>
<td headers="stub_1_12 1100" class="gt_row gt_right" style="background-color: #9C4B07; color: #FFFFFF;">44.2</td>
<td headers="stub_1_12 1130" class="gt_row gt_right" style="background-color: #863F08; color: #FFFFFF;">42.4</td>
<td headers="stub_1_12 1200" class="gt_row gt_right" style="background-color: #7F3B08; color: #FFFFFF;">41.8</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>When using <code>direction = "row"</code>, we can see that each row has cell coloring that is relative to the range of values in the particular row. This is useful in those situations where you might feel the colorization should be made specific to the row.</p>
<h2 id="one-last-thing-also-to-do-with-rows" class="anchored">One last thing, also to do with rows</h2>
<p>The <code>data_color()</code> function now has a <code>rows</code> argument. Before that wasn’t there, and you had no choice but to color each and every row in the <code>columns</code> specified. Of course, sometimes you just want colorization in a specific region of the table. Here’s an example that demonstrates this (and we’re using the new <code>metro</code> dataset):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>metro <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(name, passengers, connect_other) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(passengers)) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">locale =</span> <span class="st">"fr"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Les stations de métro les plus fréquentées et</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">    leurs nombre annuel de passagers"</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Ceux qui sont à côté des gares sont surlignés en vert"</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_row_group</span>(</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"a côté d'une gare"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> <span class="fu">grepl</span>(<span class="st">"TGV"</span>, connect_other),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="st">"gare"</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> passengers,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> <span class="fu">grepl</span>(<span class="st">"TGV"</span>, connect_other),</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"lightgreen"</span>, <span class="st">"green"</span> <span class="sc">|&gt;</span> <span class="fu">adjust_luminance</span>(<span class="at">steps =</span> <span class="sc">-</span><span class="dv">2</span>))</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> connect_other) <span class="sc">|&gt;</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    name <span class="sc">~</span> <span class="st">"station de métro"</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">passengers =</span> <span class="st">"passagers"</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_width</span>(</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    name <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">375</span>),</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    passengers <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">150</span>)</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">align =</span> <span class="st">"center"</span>),</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_row_groups</span>(<span class="at">groups =</span> <span class="st">"gare"</span>)</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_all_caps</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_align_table_header</span>(<span class="at">align =</span> <span class="st">"left"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_horizontal_padding</span>(<span class="at">scale =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_table_font</span>(<span class="at">stack =</span> <span class="st">"rounded-sans"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="tddforfjgv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tddforfjgv table {
  font-family: ui-rounded, 'Hiragino Maru Gothic ProN', Quicksand, Comfortaa, Manjari, 'Arial Rounded MT Bold', Calibri, source-sans-pro, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tddforfjgv thead, #tddforfjgv tbody, #tddforfjgv tfoot, #tddforfjgv tr, #tddforfjgv td, #tddforfjgv th {
  border-style: none;
}

#tddforfjgv p {
  margin: 0;
  padding: 0;
}

#tddforfjgv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tddforfjgv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tddforfjgv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tddforfjgv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 15px;
  padding-right: 15px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tddforfjgv .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tddforfjgv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tddforfjgv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tddforfjgv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 15px;
  padding-right: 15px;
  overflow-x: hidden;
}

#tddforfjgv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tddforfjgv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tddforfjgv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tddforfjgv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tddforfjgv .gt_spanner_row {
  border-bottom-style: hidden;
}

#tddforfjgv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tddforfjgv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tddforfjgv .gt_from_md > :first-child {
  margin-top: 0;
}

#tddforfjgv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tddforfjgv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tddforfjgv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 15px;
  padding-right: 15px;
}

#tddforfjgv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 15px;
  padding-right: 15px;
  vertical-align: top;
}

#tddforfjgv .gt_row_group_first td {
  border-top-width: 2px;
}

#tddforfjgv .gt_row_group_first th {
  border-top-width: 2px;
}

#tddforfjgv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
}

#tddforfjgv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tddforfjgv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tddforfjgv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tddforfjgv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
}

#tddforfjgv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tddforfjgv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 15px;
  padding-right: 15px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tddforfjgv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tddforfjgv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tddforfjgv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tddforfjgv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 15px;
  padding-right: 15px;
}

#tddforfjgv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tddforfjgv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 15px;
  padding-right: 15px;
}

#tddforfjgv .gt_left {
  text-align: left;
}

#tddforfjgv .gt_center {
  text-align: center;
}

#tddforfjgv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tddforfjgv .gt_font_normal {
  font-weight: normal;
}

#tddforfjgv .gt_font_bold {
  font-weight: bold;
}

#tddforfjgv .gt_font_italic {
  font-style: italic;
}

#tddforfjgv .gt_super {
  font-size: 65%;
}

#tddforfjgv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tddforfjgv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tddforfjgv .gt_indent_1 {
  text-indent: 5px;
}

#tddforfjgv .gt_indent_2 {
  text-indent: 10px;
}

#tddforfjgv .gt_indent_3 {
  text-indent: 15px;
}

#tddforfjgv .gt_indent_4 {
  text-indent: 20px;
}

#tddforfjgv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col style="width:375px;">
    <col style="width:150px;">
  </colgroup>
  <thead>
    <tr class="gt_heading">
      <td colspan="2" class="gt_heading gt_title gt_font_normal" style="">Les stations de métro les plus fréquentées et
    leurs nombre annuel de passagers</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">Ceux qui sont à côté des gares sont surlignés en vert</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="station de métro">station de métro</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="passagers">passagers</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="2" class="gt_group_heading" style="text-align: center;" scope="colgroup" id="a côté d'une gare">a côté d'une gare</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="gare  name" class="gt_row gt_left">Gare du Nord</td>
<td headers="gare  passengers" class="gt_row gt_right" style="background-color: #009200; color: #FFFFFF;">34 503 097</td></tr>
    <tr><td headers="gare  name" class="gt_row gt_left">Saint-Lazare</td>
<td headers="gare  passengers" class="gt_row gt_right" style="background-color: #199813; color: #FFFFFF;">33 128 384</td></tr>
    <tr><td headers="gare  name" class="gt_row gt_left">Gare de Lyon</td>
<td headers="gare  passengers" class="gt_row gt_right" style="background-color: #40AE38; color: #FFFFFF;">28 640 475</td></tr>
    <tr><td headers="gare  name" class="gt_row gt_left">Montparnasse—Bienvenüe</td>
<td headers="gare  passengers" class="gt_row gt_right" style="background-color: #74D670; color: #000000;">20 407 224</td></tr>
    <tr><td headers="gare  name" class="gt_row gt_left">Gare de l'Est</td>
<td headers="gare  passengers" class="gt_row gt_right" style="background-color: #90EE90; color: #000000;">15 538 471</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="2" class="gt_empty_group_heading" scope="colgroup" id=""></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="NA  name" class="gt_row gt_left">Bibliothèque François Mitterrand</td>
<td headers="NA  passengers" class="gt_row gt_right">11 104 474</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">République</td>
<td headers="NA  passengers" class="gt_row gt_right">11 079 708</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Les Halles</td>
<td headers="NA  passengers" class="gt_row gt_right">10 623 876</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">La Défense</td>
<td headers="NA  passengers" class="gt_row gt_right">9 256 802</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Châtelet</td>
<td headers="NA  passengers" class="gt_row gt_right">8 350 794</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Bastille</td>
<td headers="NA  passengers" class="gt_row gt_right">8 069 243</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Belleville</td>
<td headers="NA  passengers" class="gt_row gt_right">7 314 438</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Hôtel de Ville</td>
<td headers="NA  passengers" class="gt_row gt_right">7 251 729</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Place d'Italie</td>
<td headers="NA  passengers" class="gt_row gt_right">7 119 097</td></tr>
    <tr><td headers="NA  name" class="gt_row gt_left">Bobigny—Pablo Picasso</td>
<td headers="NA  passengers" class="gt_row gt_right">6 561 327</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Ce tableau de données là, <em>c’est le fun</em>!</p>
<h2 id="in-conclusion" class="anchored">In conclusion</h2>
<p>We’ve wanted to improve the <code>data_color()</code> function of <strong>gt</strong> for a few years now, and we are so glad it is now a thing accomplished in version <code>0.9.0</code>! The new version of this function is <em>way</em> more powerful than before (and hopefully easier to use too).</p>
<p>This is blog post number three of a series on <strong>gt</strong> version <code>0.9.0</code>. There’s more to come, owing to the fact that this release of <strong>gt</strong> is a big one. We always want your feedback, and there are many different ways to get in touch with us. You can:</p>
<ul>
<li><a href="https://github.com/rstudio/gt/issues">file an issue</a> on GitHub</li>
<li>engage in discussions through the <strong>gt</strong> <a href="https://github.com/rstudio/gt/discussions">Discussions page</a>, again on GitHub</li>
<li>follow us on Twitter at <a href="https://twitter.com/gt_package"><span class="citation" data-cites="gt_package">@gt_package</span></a></li>
<li>join the new <code>gt_package</code> <a href="https://discord.gg/Ux7nrcXHVV"><em>Discord server</em></a></li>
</ul>
<p>Until next time!</p>


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
  tabsets.forEach(function(tabset) {
    const tabby = new Tabby('#' + tabset.id);
  });
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>



</body></html>