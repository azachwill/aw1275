<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2020-12-07">
<meta name="description" content="We are proud to announce the latest release of the distill package is now on CRAN. This version contains a number of major upgrades including the introduction of themed articles and websites, search, and improved accessibility.">

<title>posit-blogs - (Re-)introducing Distill for R Markdown</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">


</head>

<body>


<header id="title-block-header">
<h1 class="title">(Re-)introducing Distill for R Markdown</h1>

<p class="date">2020-12-07</p>
</header>

<blockquote>
<p class="body-md-regular body-sm-regular">
Please note that the information presented in this post reflects the package as it stood when initially released, and may now be outdated. For the most up-to-date information, kindly refer to <a href="https://rstudio.github.io/distill/" class="uri">https://rstudio.github.io/distill/</a>.
</p>
</blockquote>
<p>We are proud to announce that version 1.0 of the <a href="https://pkgs.rstudio.com/distill/">distill package</a> is now on <a href="https://cran.r-project.org/web/packages/distill/index.html">CRAN</a>. While Distill has been around for awhile (and you may remember it by its original name, <a href="https://www.rstudio.com/blog/radix-for-r-markdown/">Radix</a>), this latest version includes so many new features that we wanted to take a moment to re-introduce you to Distill.</p>
<p>If you just want to jump in and get starting using Distill, you can install the latest version from CRAN:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"distill"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The package website (also built with Distill) is the best place to start: <a href="https://rstudio.github.io/distill/" class="uri">https://rstudio.github.io/distill/</a></p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="site.png" class="img-fluid" style="width:50.0%"></p>
<figcaption>The Distill website</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>If you are not ready to commit <em>just</em> yet, read on to <a href="#what-is-distill">find out more about Distill</a> and <a href="#distill-v1.0">discover new features</a> from the latest release.</p>
<p><br></p>
<h2 id="what-is-distill" class="anchored">What is Distill?</h2>
<p>Distill is a package built for <a href="https://rmarkdown.rstudio.com/">R Markdown</a>, an ecosystem of packages for creating computational documents in R. The goal of the Distill package is to provide an output format optimized for online scientific and technical communication. The Distill R package provides two HTML <a href="https://pkgs.rstudio.com/distill/reference/index.html#section-output-formats">output formats</a> for R Markdown documents:</p>
<ul>
<li><p>Single HTML articles (<a href="https://pkgs.rstudio.com/distill/reference/distill_article.html"><code>distill_article</code></a>), and</p></li>
<li><p>Multi-page HTML websites, including blogs (<a href="https://pkgs.rstudio.com/distill/reference/distill_website.html"><code>distill_website</code></a>).</p></li>
</ul>
<p>These formats are based on the Distill web framework used by the Distill Machine Learning Journal <span class="citation" data-cites="olah2018the">(<a href="#ref-olah2018the" role="doc-biblioref">Olah et al. 2018</a>)</span>. The Distill web framework was originally developed to catalyze more engaging and effective scientific, technical communication. The idea was to create a platform to help scientists harness the benefits of modern HTML-based communication, which digital designers and journalists have been using to create interactive and engaging articles that meet readers where they are: online.</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="distill-pub.png" class="img-fluid" style="width:75.0%"></p>
<figcaption>A Distill publication</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>If you are keen to learn more about how visual aesthetics and interactivity can improve readers’ engagement and learning, we recommend reading <span class="citation" data-cites="hohman2020communicating">Hohman et al. (<a href="#ref-hohman2020communicating" role="doc-biblioref">2020</a>)</span>.</p>
<p><br></p>
<h3 id="distill-article" class="anchored">Distill for single HTML articles</h3>
<p>If you have ever knit an R Markdown file to <code>html_document()</code>, then you can think of <code>distill_article()</code> as its scientific alter-ego.</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://media.giphy.com/media/w73hhH9c8vmbS/giphy.gif" class="img-fluid"></p>
<figcaption>PBS Full-Time Kid Egg in a Bottle Experiment</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Distill articles offer users an R Markdown format with built-in bells and whistles that make scientific communication easier, including:</p>
<ul>
<li><p>Ability to incorporate JavaScript and D3-based <a href="https://rstudio.github.io/distill/interactivity.html">interactive visualizations</a> made with R.</p></li>
<li><p>Support for <a href="https://rstudio.github.io/distill/#citations">citations</a>, <a href="https://rstudio.github.io/distill/#appendices">appendices</a>, <a href="https://rstudio.github.io/distill/#footnotes-and-asides">hover-able footnotes, and asides.</a></p></li>
<li><p>Tools for making articles <a href="https://rstudio.github.io/distill/citations.html">easily citeable</a>, as well as for generating <a href="https://rstudio.github.io/distill/citations.html#google-scholar">Google Scholar</a> compatible citation metadata.</p></li>
<li><p>Auto-numbering of <a href="https://bookdown.org/yihui/rmarkdown-cookbook/figure-number.html">figures</a> and <a href="https://bookdown.org/yihui/bookdown/tables.html">tables</a>, and <a href="https://bookdown.org/yihui/rmarkdown-cookbook/cross-ref.html">cross-referencing</a> of figures and tables.</p></li>
<li><p>Built-in support for <a href="https://rstudio.github.io/distill/basics.html#creating-an-article">multiple authors</a> with affiliations and <a href="https://orcid.org/">ORCID iD</a>.</p></li>
<li><p>Adding <a href="https://rstudio.github.io/distill/metadata.html#creative-commons">creative commons licensed content</a> with specific reuse instructions.</p></li>
</ul>
<p>Each of these features are designed to help scientists use the web and R to communicate about their work more effectively. But you can also use Distill to publish any HTML content, like <a href="https://stats.andrewheiss.com/bread/bagels.html">instructions for making bagels</a>- Distill works great for that too.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a><br>
</p>
<p><br></p>
<h3 id="distill-site" class="anchored">Distill for websites and blogs</h3>
<p>While a single article may often be all that you need, many data science projects involve a <em>collection</em> of multiple R Markdown documents. When you have more than one R Markdown file knitted to HTML in your collection, it’s a good time to think about knitting them together into a single, navigable website. It is much easier for folks to engage with your work when you can share a link directly to it that they can see and explore it themselves.</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://media.giphy.com/media/3ohze1V5m8q6Fs2d7a/giphy.gif" class="img-fluid" style="width:50.0%"></p>
<figcaption>PBS Full Time Kid DIY Bird Feeder</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Distill can knit together a collection of distill articles into a cohesive and navigable website. Distill sites feature an <a href="https://rstudio.github.io/distill/website.html#site-navigation">upper navigation bar</a> with links (which may also include dropdown menus). In addition, Distill blogs offer page layout options like <a href="https://rstudio.github.io/distill/blog.html#listing-pages">listing pages</a> and the ability to <a href="https://rstudio.github.io/distill/blog.html#custom-listings">customize them</a>. A listing page doesn’t have to be populated manually; instead, it creates a clickable, sequential list of all your posts (usually with nice thumbnail images and some post metadata like author, date, etc.). Blog posts also get <a href="https://rstudio.github.io/distill/blog.html#website-or-blog">special treatment</a> by Distill — they are never automatically re-rendered when your site is re-built.</p>
<p>Here is a Distill blog in action, from the <a href="https://blogs.rstudio.com/ai/">RStudio AI blog</a>:</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://pkgs.rstudio.com/distill/articles/images/rstudio-ai.png" class="img-fluid" style="width:75.0%"></p>
<figcaption>The RStudio AI blog, built with distill</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Distill adds several built-in features to make websites better-suited for scientific communication:</p>
<ul>
<li><p><a href="https://rstudio.github.io/distill/website.html#site-search">Site-wide search.</a></p></li>
<li><p><a href="https://rstudio.github.io/distill/metadata.html#preview-images">Per-article sharing preview images</a> (for OpenGraph, Twitter, Slack, etc.).</p></li>
<li><p><a href="https://rstudio.github.io/distill/blog_workflow.html#importing-posts">Import posts from other external sources.</a></p></li>
<li><p><a href="https://rstudio.github.io/distill/blog_workflow.html#canonical-urls">Canonical urls</a> - handy for when your own post is re-published elsewhere.</p></li>
<li><p>Customizable <a href="https://rstudio.github.io/distill/blog.html#rss-feed">RSS feeds</a> (either with summaries or full post content).</p></li>
<li><p><a href="https://rstudio.github.io/distill/website.html#site-navigation">Site logo</a> in the upper navbar.</p></li>
<li><p>Integrated <a href="https://rstudio.github.io/distill/website.html#google-analytics">Google Analytics</a> support.</p></li>
<li><p><a href="https://rstudio.github.io/distill/website.html#site-metadata">Favicon support</a>.</p></li>
</ul>
<p>These are all on top of the features we listed for individual <a href="#distill-article">Distill articles</a>. You can also use RStudio’s <a href="https://www.rstudio.com/blog/rstudio-v1-4-preview-visual-markdown-editing/">visual markdown editor</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> to compose Distill articles, which provides a WYSIWYG (What You See Is What You Get) writing experience as well as the ability to <a href="https://www.rstudio.com/blog/rstudio-1-4-preview-citations/">insert citations</a> from a document bibliography, reference management software, and even open-source bibliographic databases like <a href="https://pubmed.ncbi.nlm.nih.gov/">PubMed</a>.</p>
<p>Importantly, Distill websites are built without any kind of static site generator (like <a href="https://jekyllrb.com/">Jekyll</a> or <a href="https://gohugo.io/">Hugo</a>), which means that Distill websites offer users the bliss of building a website without any additional software dependencies (this means, all you need is R and the distill package to make it work).</p>
<p><br></p>
<h2 id="distill-v1.0" class="anchored">Distill version 1.0</h2>
<p>So, what is new with Distill? In the rest of this post, we’ll share some highlights from the latest release, but you might want to look at the <a href="https://pkgs.rstudio.com/distill/news/index.html#distill-v10-cran">release notes</a> for the full details.</p>
<h3 id="theming" class="anchored">Theming</h3>
<p>In this latest release, we have introduced the ability to theme your Distill article, website, or blog without needing to write your own <a href="https://en.wikipedia.org/wiki/CSS">CSS</a> from scratch. Distill output formats have a modern and streamlined theme “out of the box”, but we also know that it is important for users to be able to create a non-cookie-cutter site with less friction (i.e., less CSS).</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://media.giphy.com/media/13FrpeVH09Zrb2/giphy.gif" class="img-fluid" style="width:30.0%"></p>
<figcaption>A totally relatable CSS editing experience.</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>To sidestep CSS wrangling, you can now <a href="https://rstudio.github.io/distill/website.html?panelset=themed-site&amp;panelset1=theme.css#create-theme">create</a> and <a href="https://rstudio.github.io/distill/website.html?panelset=themed-site&amp;panelset1=theme.css#apply-theme">apply</a> a Distill theme, which allows you to customize common elements without needing to create a CSS file from scratch. To get started, you can use the new <a href="https://distill.netlify.app/reference/create_theme.html"><code>create_theme()</code></a> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_theme</span>(<span class="at">name =</span> <span class="st">"bespoke-theme"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>Follow the docs on <a href="https://rstudio.github.io/distill/website.html#theming">theming</a> to learn more. There, we provide a demo with code for going from the default theme (left) to a bespoke theme (right) by changing only a few fields in <code>bespoke-theme.css</code>:</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="theme-before.png" class="img-fluid" style="width:49.0%"></p>
</div>
<div class="cell-output-display">
<p><img src="theme-after.png" class="img-fluid" style="width:49.0%"></p>
</div>
</div>
<p><br></p>
<p>But themes aren’t just for full websites! You can also theme a <a href="https://rstudio.github.io/distill/basics.html#theming">single Distill article</a>, and you can change the theme for an <a href="https://rstudio.github.io/distill/website.html#apply-theme">individual article</a> within a Distill website. As before, you can always use <a href="https://rstudio.github.io/distill/website.html#custom-style">custom CSS styles</a> to go fully custom; the theme allows you to bypass the detective work typically involved in discovering which CSS selectors are needed to change the key elements most users wish to control. Finally, we provided some <a href="https://rstudio.github.io/distill/website.html#example-themes">example Distill themes</a> for inspiration.</p>
<p><br></p>
<h3 id="other-highlights" class="anchored">Other highlights</h3>
<ul>
<li><p>Added built-in search functionality, based on <a href="https://fusejs.io/">Fuse.js</a>. Search will be enabled by default for new distill blogs, and can be <a href="https://rstudio.github.io/distill/website.html#site-search">enabled</a> on websites as well.</p></li>
<li><p>Headings provide anchor links upon hover, making it easier to find and share the URL for a specific section of a webpage or article.</p></li>
<li><p>Improved default syntax highlighting theme, optimized for accessibility based on the <a href="https://github.com/ericwbailey/a11y-syntax-highlighting">a11y syntax highlighting themes</a> by Eric Bailey. All colors in the theme meet the minimum <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 2.0 guidelines for contrast accessibility</a> of &gt; 4.5 (AA).</p></li>
<li><p>Improved handling and display of article categories for blogs, allowing readers to more easily see the categories for each individual post on listing pages.</p></li>
<li><p>Support for ORCID integration in article metadata:</p>
<div class="cell">
<div class="cell-output-display">
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Dianne Cook</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">affiliation</span><span class="kw">:</span><span class="at"> Monash University</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">orcid_id</span><span class="kw">:</span><span class="at"> 0000-0002-3813-7155</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p><a href="https://downlit.r-lib.org/">Downlit</a> integration for automatic linking of R code in code chunks to function reference documentation.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><video src="downlit.mp4" class="img-fluid" controls=""><a href="downlit.mp4">Video</a></video></p>
<figcaption>Downlit links to any package’s reference pages directly.</figcaption>
</figure>
</div></li>
</ul>
<p><br></p>
<h2 id="distill-reference-site" class="anchored">Distill reference site</h2>
<p>In addition to the <a href="https://rstudio.github.io/distill/">documentation site</a>, Distill also gained a <a href="https://pkgs.rstudio.com/distill">reference site</a>, built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>. There, you’ll find a <a href="https://pkgs.rstudio.com/distill/reference/index.html">reference section</a>, <a href="https://pkgs.rstudio.com/distill/articles/examples.html">example gallery</a>, and the <a href="https://pkgs.rstudio.com/distill/news/index.html">latest news</a>. Our sincere thanks to the members of the #rstats community who agreed to have their sites featured in the <a href="https://pkgs.rstudio.com/distill/articles/examples.html">example gallery</a>:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="examples.png" class="img-fluid" style="width:75.0%"></p>
<figcaption>The Distill example gallery</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<h2 id="a-hex-sticker" class="anchored">A hex sticker</h2>
<p>Last but definitely not least, distill also gained a hex sticker — thanks to our artist <a href="https://www.jungjulie.com/">Julie Jung</a>!</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="distill.png" class="img-fluid" style="width:25.0%"></p>
<figcaption>distill hex by Julie Jung</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Phew! If you’ve made it this far, thanks for reading and we hope you give Distill version 1.0 a whirl!</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="https://media.giphy.com/media/ToMjGpns6x9Fv3b5C00/giphy.gif" class="img-fluid" style="width:50.0%"></p>
<figcaption>PBS Full Time Kid</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<h2 id="acknowledgements" class="anchored">Acknowledgements</h2>
<p>A big thanks to the 31 contributors who helped with this release by discussing problems, proposing features, and contributing code:</p>
<p><a href="https://github.com/ADernild">@ADernild</a>, <a href="https://github.com/clauswilke">@clauswilke</a>, <a href="https://github.com/CRLNP">@CRLNP</a>, <a href="https://github.com/henry090">@henry090</a>, <a href="https://github.com/jarrodscott">@jarrodscott</a>, <a href="https://github.com/javierluraschi">@javierluraschi</a>, <a href="https://github.com/jenrichmond">@jenrichmond</a>, <a href="https://github.com/jmbuhr">@jmbuhr</a>, <a href="https://github.com/jthomasmock">@jthomasmock</a>, <a href="https://github.com/kevinushey">@kevinushey</a>, <a href="https://github.com/m-clark">@m-clark</a>, <a href="https://github.com/maelle">@maelle</a>, <a href="https://github.com/mfdf">@mfdf</a>, <a href="https://github.com/michiexile">@michiexile</a>, <a href="https://github.com/mihagazvoda">@mihagazvoda</a>, <a href="https://github.com/MilesMcBain">@MilesMcBain</a>, <a href="https://github.com/mondpanther">@mondpanther</a>, <a href="https://github.com/mrcaseb">@mrcaseb</a>, <a href="https://github.com/mrworthington">@mrworthington</a>, <a href="https://github.com/mvuorre">@mvuorre</a>, <a href="https://github.com/nunompmoniz">@nunompmoniz</a>, <a href="https://github.com/pneuvial">@pneuvial</a>, <a href="https://github.com/relund">@relund</a>, <a href="https://github.com/RodrigoCerqueira">@RodrigoCerqueira</a>, <a href="https://github.com/RRemelgado">@RRemelgado</a>, <a href="https://github.com/slopp">@slopp</a>, <a href="https://github.com/stared">@stared</a>, <a href="https://github.com/taraskaduk">@taraskaduk</a>, <a href="https://github.com/tonytrevisan">@tonytrevisan</a>, <a href="https://github.com/umarcor">@umarcor</a>, and <a href="https://github.com/wordsmith189">@wordsmith189</a>.</p>
<h2 id="references" class="anchored">References</h2>

<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-hohman2020communicating" class="csl-entry" role="listitem">
Hohman, Fred, Matthew Conlen, Jeffrey Heer, and Duen Horng (Polo) Chau. 2020. <span>“Communicating with Interactive Articles.”</span> <em>Distill</em>. <a href="https://doi.org/10.23915/distill.00028">https://doi.org/10.23915/distill.00028</a>.
</div>
<div id="ref-olah2018the" class="csl-entry" role="listitem">
Olah, Chris, Arvind Satyanarayan, Ian Johnson, Shan Carter, Ludwig Schubert, Katherine Ye, and Alexander Mordvintsev. 2018. <span>“The Building Blocks of Interpretability.”</span> <em>Distill</em>. <a href="https://doi.org/10.23915/distill.00010">https://doi.org/10.23915/distill.00010</a>.
</div>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Thank you, <a href="https://www.andrewheiss.com/">Andrew Heiss</a>!<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>At the time of publishing, the visual markdown editor is included in the RStudio IDE Preview v1.4. Read the documentation for the most up-to-date status of the editor: <a href="https://rstudio.github.io/visual-markdown-editing/#/" class="uri">https://rstudio.github.io/visual-markdown-editing/#/</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
  tabsets.forEach(function(tabset) {
    const tabby = new Tabby('#' + tabset.id);
  });
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>



</body></html>